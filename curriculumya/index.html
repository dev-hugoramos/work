<!DOCTYPE html>
<html lang="es">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Generador de Currículums Profesional</title>
    <link href="https://cdnjs.cloudflare.com/ajax/libs/bootstrap/5.3.2/css/bootstrap.min.css" rel="stylesheet">
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/all.min.css" rel="stylesheet">

    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/all.min.css" rel="stylesheet">
    <link href="https://cdnjs.cloudflare.com/ajax/libs/limonte-sweetalert2/11.7.32/sweetalert2.min.css"
        rel="stylesheet">
    <style>
        :root {
            --primary-color: #000000;
            --secondary-color: #333333;
            --accent-color: #666666;
            --light-gray: #f5f5f5;
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: Arial, sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            padding: 20px 0;
        }

        .main-container {
            background: white;
            border-radius: 20px;
            box-shadow: 0 20px 60px rgba(0, 0, 0, 0.3);
            overflow: hidden;
            animation: fadeIn 0.6s ease-in;
        }

        @keyframes fadeIn {
            from {
                opacity: 0;
                transform: translateY(30px);
            }

            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        .header {
            background: linear-gradient(135deg, #1a1a1a 0%, #000000 100%);
            color: white;
            padding: 30px;
            text-align: center;
            position: relative;
            overflow: hidden;
        }

        .header::before {
            content: '';
            position: absolute;
            top: -50%;
            left: -50%;
            width: 200%;
            height: 200%;
            background: radial-gradient(circle, rgba(255, 255, 255, 0.1) 0%, transparent 70%);
            animation: pulse 4s infinite;
        }

        @keyframes pulse {

            0%,
            100% {
                transform: scale(1);
                opacity: 0.5;
            }

            50% {
                transform: scale(1.1);
                opacity: 0.8;
            }
        }

        .header h1 {
            font-size: 2.5rem;
            font-weight: bold;
            margin-bottom: 10px;
            position: relative;
            z-index: 1;
        }

        .language-switch {
            position: absolute;
            top: 20px;
            right: 20px;
            z-index: 2;
        }

        @media (max-width: 768px) {
            .language-switch {
                position: relative;
                top: 0;
                right: 0;
                margin-bottom: 15px;
                text-align: center;
            }

            .header h1 {
                margin-top: 10px;
            }
        }

        .language-switch button {
            background: rgba(255, 255, 255, 0.2);
            border: 2px solid white;
            color: white;
            padding: 8px 16px;
            border-radius: 20px;
            cursor: pointer;
            transition: all 0.3s;
            font-weight: bold;
        }

        .language-switch button:hover {
            background: white;
            color: #000;
            transform: scale(1.05);
        }

        .content-area {
            display: flex;
            min-height: 600px;
        }

        .editor-panel {
            flex: 1;
            padding: 30px;
            background: #f8f9fa;
            overflow-y: auto;
            max-height: 800px;
        }

        .preview-panel {
            flex: 1;
            padding: 30px;
            background: #e9ecef;
            overflow-y: auto;
            max-height: 800px;
        }

        .section-title {
            color: #000;
            font-size: 1.5rem;
            font-weight: bold;
            margin-bottom: 20px;
            padding-bottom: 10px;
            border-bottom: 3px solid #000;
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .form-group {
            margin-bottom: 20px;
            animation: slideIn 0.4s ease-out;
        }

        @keyframes slideIn {
            from {
                opacity: 0;
                transform: translateX(-20px);
            }

            to {
                opacity: 1;
                transform: translateX(0);
            }
        }

        .form-control,
        .form-select {
            border-radius: 10px;
            border: 2px solid #dee2e6;
            padding: 12px;
            transition: all 0.3s;
            font-family: Arial, sans-serif;
        }

        .form-control:focus,
        .form-select:focus {
            border-color: #000;
            box-shadow: 0 0 0 0.2rem rgba(0, 0, 0, 0.25);
        }

        .btn-primary {
            background: linear-gradient(135deg, #000 0%, #333 100%);
            border: none;
            border-radius: 10px;
            padding: 12px 30px;
            font-weight: bold;
            transition: all 0.3s;
            position: relative;
            overflow: hidden;
            color: white;
        }

        .btn-primary::before {
            content: '';
            position: absolute;
            top: 50%;
            left: 50%;
            width: 0;
            height: 0;
            border-radius: 50%;
            background: rgba(255, 255, 255, 0.3);
            transform: translate(-50%, -50%);
            transition: width 0.6s, height 0.6s;
        }

        .btn-primary:hover::before {
            width: 300px;
            height: 300px;
        }

        .btn-primary:hover {
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.4);
        }

        .btn-danger {
            background: linear-gradient(135deg, #ef4444 0%, #dc2626 100%);
            border: none;
            border-radius: 10px;
            padding: 8px 16px;
            transition: all 0.3s;
        }

        .btn-danger:hover {
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(239, 68, 68, 0.4);
        }

        .cv-preview {
            background: white;
            border-radius: 10px;
            padding: 40px;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.1);
            font-size: 11px;
            min-height: 500px;
            font-family: Arial, sans-serif;
            line-height: 1.5;
            max-width: 210mm;
            margin: 0 auto;
        }

        .cv-header-section {
            display: flex;
            align-items: flex-start;
            gap: 25px;
            padding-bottom: 20px;
            border-bottom: 3px solid #000;
            margin-bottom: 25px;
        }

        .cv-photo {
            flex-shrink: 0;
        }

        .cv-photo img {
            width: 100px;
            height: 100px;
            border-radius: 50%;
            object-fit: cover;
            border: 3px solid #000;
            box-shadow: 0 4px 10px rgba(0, 0, 0, 0.2);
        }

        .cv-header-info {
            flex: 1;
        }

        .cv-name {
            font-size: 26px;
            font-weight: bold;
            margin-bottom: 6px;
            color: #000;
            text-transform: uppercase;
            letter-spacing: 1px;
        }

        .cv-title {
            font-size: 15px;
            color: #333;
            margin-bottom: 12px;
            font-weight: 600;
        }

        .cv-contact {
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            gap: 8px;
            font-size: 10px;
        }

        .cv-contact-item {
            display: flex;
            align-items: center;
            gap: 6px;
            color: #333;
        }

        .cv-contact-item i {
            width: 16px;
            color: #000;
            font-size: 11px;
        }

        .cv-section {
            margin-bottom: 20px;
            page-break-inside: avoid;
        }

        .cv-section-title {
            font-size: 16px;
            font-weight: bold;
            margin-bottom: 15px;
            padding-bottom: 8px;
            border-bottom: 2px solid #000;
            color: #000;
            text-transform: uppercase;
            letter-spacing: 1px;
            display: flex;
            align-items: center;
            gap: 8px;
        }

        .cv-section-title i {
            font-size: 14px;
        }

        .cv-item {
            margin-bottom: 15px;
            page-break-inside: avoid;
        }

        .cv-item-header {
            display: flex;
            justify-content: space-between;
            align-items: flex-start;
            margin-bottom: 6px;
        }

        .cv-item-title {
            font-weight: bold;
            font-size: 12px;
            color: #000;
        }

        .cv-item-date {
            color: #666;
            font-size: 10px;
            font-weight: 600;
            white-space: nowrap;
            background: #f5f5f5;
            padding: 3px 8px;
            border-radius: 4px;
        }

        .cv-item-subtitle {
            color: #333;
            margin-bottom: 6px;
            font-size: 11px;
            font-style: italic;
        }

        .cv-item-description {
            color: #444;
            font-size: 10px;
            line-height: 1.6;
            text-align: justify;
        }

        .cv-skills-grid {
            display: grid;
            grid-template-columns: repeat(3, 1fr);
            gap: 8px;
        }

        .cv-skill-item {
            display: flex;
            align-items: center;
            gap: 6px;
            padding: 6px 10px;
            background: #f5f5f5;
            border-radius: 5px;
            border-left: 3px solid #000;
            font-size: 10px;
            font-weight: 500;
        }

        .cv-skill-item i {
            color: #000;
            font-size: 8px;
        }

        .template-selector {
            display: flex;
            gap: 15px;
            margin-bottom: 20px;
            flex-wrap: wrap;
        }

        .template-option {
            padding: 15px 25px;
            border: 3px solid #dee2e6;
            border-radius: 10px;
            cursor: pointer;
            transition: all 0.3s;
            text-align: center;
            flex: 1;
            min-width: 120px;
            background: white;
        }

        .template-option:hover {
            transform: translateY(-5px);
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.2);
        }

        .template-option.active {
            border-color: #000;
            background: #000;
            color: white;
        }

        .item-list {
            background: white;
            padding: 15px;
            border-radius: 10px;
            margin-bottom: 15px;
            border-left: 4px solid #000;
            animation: slideIn 0.4s ease-out;
            box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);
        }

        .action-buttons {
            position: sticky;
            bottom: 0;
            background: white;
            padding: 20px;
            box-shadow: 0 -5px 15px rgba(0, 0, 0, 0.1);
            display: flex;
            gap: 10px;
            justify-content: center;
            flex-wrap: wrap;
        }

        .photo-upload {
            margin-bottom: 20px;
        }

        .photo-preview {
            width: 150px;
            height: 150px;
            border-radius: 50%;
            object-fit: cover;
            border: 4px solid #000;
            margin-top: 10px;
            display: none;
        }

        .photo-preview.active {
            display: block;
        }

        .loading {
            text-align: center;
            padding: 40px;
        }

        .spinner {
            border: 4px solid #f3f3f3;
            border-top: 4px solid #000;
            border-radius: 50%;
            width: 50px;
            height: 50px;
            animation: spin 1s linear infinite;
            margin: 0 auto 20px;
        }

        @keyframes spin {
            0% {
                transform: rotate(0deg);
            }

            100% {
                transform: rotate(360deg);
            }
        }

        .cv-preview.template-modern .cv-header-section {
            border-bottom: 3px solid #000;
        }

        .cv-preview.template-classic .cv-header-section {
            border-bottom: 1px solid #000;
            padding-bottom: 18px;
        }

        .cv-preview.template-classic .cv-section-title {
            background: #000;
            color: white;
            padding: 6px 12px;
            margin-left: -8px;
            margin-right: -8px;
            border-bottom: none;
        }

        .cv-preview.template-creative .cv-header-section {
            border-bottom: none;
            background: linear-gradient(135deg, #f5f5f5 0%, #e9e9e9 100%);
            padding: 20px;
            margin-left: -8px;
            margin-right: -8px;
            margin-bottom: 25px;
            border-radius: 8px;
        }

        .cv-preview.template-creative .cv-section-title {
            border-bottom: none;
            border-left: 5px solid #000;
            padding-left: 12px;
        }

        .mobile-preview-btn {
            display: none;
            position: fixed;
            bottom: 20px;
            right: 20px;
            z-index: 1000;
            width: 60px;
            height: 60px;
            border-radius: 50%;
            background: linear-gradient(135deg, #000 0%, #333 100%);
            color: white;
            border: none;
            font-size: 24px;
            box-shadow: 0 4px 15px rgba(0, 0, 0, 0.3);
        }

        .preview-modal {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.9);
            z-index: 2000;
            overflow-y: auto;
            padding: 20px;
        }

        .preview-modal.active {
            display: block;
        }

        .preview-modal-content {
            max-width: 800px;
            margin: 0 auto;
            position: relative;
        }

        .close-modal {
            position: fixed;
            top: 20px;
            right: 20px;
            background: white;
            color: #000;
            border: none;
            width: 40px;
            height: 40px;
            border-radius: 50%;
            font-size: 24px;
            cursor: pointer;
            z-index: 2001;
            box-shadow: 0 4px 15px rgba(0, 0, 0, 0.3);
        }

        .credits-section a:hover {
            transform: translateY(-3px);
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.3);
        }

        @media (max-width: 768px) {

            .credits-section h3 {
                font-size: 1.1rem;
            }

            .credits-section p {
                font-size: 0.85rem;
            }

            .credits-section a {
                font-size: 0.9rem;
                padding: 8px 15px;
            }

            .content-area {
                flex-direction: column;
            }

            .preview-panel {
                display: none;
            }

            .mobile-preview-btn {
                display: flex;
                align-items: center;
                justify-content: center;
            }

            .cv-preview {
                padding: 20px;
                font-size: 10px;
            }

            .header h1 {
                font-size: 1.8rem;
            }

            .cv-name {
                font-size: 20px;
            }

            .cv-header-section {
                flex-direction: column;
                align-items: center;
                text-align: center;
            }

            .cv-contact {
                grid-template-columns: 1fr;
            }

            .cv-skills-grid {
                grid-template-columns: repeat(2, 1fr);
            }

            .editor-panel {
                max-height: none;
            }
        }

        label {
            font-weight: 600;
            color: #333;
            margin-bottom: 8px;
            display: block;
        }

        label i {
            margin-right: 5px;
            color: #000;
        }
    </style>
</head>

<body>
    <div class="container">
        <div class="main-container">
            <div class="header">
                <div class="language-switch">
                    <button id="langBtn" onclick="toggleLanguage()">
                        <i class="fas fa-globe"></i> <span id="langBtnText">English</span>
                    </button>
                </div>
                <h1><i class="fas fa-file-alt"></i> <span data-translate="mainTitle">Generador de Currículums</span>
                </h1>
                <p data-translate="subtitle">Crea tu currículum profesional en minutos</p>
            </div>

            <div class="credits-section"
                style="background: linear-gradient(135deg, #f8f9fa 0%, #e9ecef 100%); padding: 25px; text-align: center; border-bottom: 3px solid #000;">
                <div style="max-width: 800px; margin: 0 auto;">
                    <h3 style="font-size: 1.3rem; font-weight: bold; margin-bottom: 15px; color: #000;">
                        <i class="fas fa-code"></i> Creado por Hugo Ramos Espino
                    </h3>
                    <p style="color: #666; margin-bottom: 20px; font-size: 0.95rem;">
                        <i class="fas fa-heart" style="color: #e74c3c;"></i> Desarrollador Full Stack apasionado por
                        crear herramientas útiles
                    </p>
                    <div
                        style="display: flex; gap: 15px; justify-content: center; flex-wrap: wrap; align-items: center;">
                        <a href="https://www.linkedin.com/in/hugo-david-r-643485123/" target="_blank"
                            style="display: inline-flex; align-items: center; gap: 8px; padding: 10px 20px; background: #0077b5; color: white; text-decoration: none; border-radius: 8px; font-weight: bold; transition: all 0.3s;">
                            <i class="fab fa-linkedin" style="font-size: 1.2rem;"></i>
                            LinkedIn
                        </a>
                        <a href="https://www.instagram.com/sickgeek_?igsh=YnY1MWxhaHJmMHF6" target="_blank"
                            style="display: inline-flex; align-items: center; gap: 8px; padding: 10px 20px; background: linear-gradient(45deg, #f09433 0%, #e6683c 25%, #dc2743 50%, #cc2366 75%, #bc1888 100%); color: white; text-decoration: none; border-radius: 8px; font-weight: bold; transition: all 0.3s;">
                            <i class="fab fa-instagram" style="font-size: 1.2rem;"></i>
                            Instagram
                        </a>
                        <a href="https://ko-fi.com/hugoramos" target="_blank"
                            style="display: inline-flex; align-items: center; gap: 8px; padding: 10px 20px; background: #FF5E5B; color: white; text-decoration: none; border-radius: 8px; font-weight: bold; transition: all 0.3s; box-shadow: 0 4px 10px rgba(255, 94, 91, 0.3);">
                            <i class="fas fa-coffee" style="font-size: 1.2rem;"></i>
                            Apóyame en Ko-fi
                        </a>
                    </div>
                </div>
            </div>

            <div class="content-area">
                <div class="editor-panel">
                    <div class="section-title">
                        <i class="fas fa-palette"></i>
                        <span data-translate="templateTitle">Seleccionar Plantilla</span>
                    </div>

                    <div class="template-selector">
                        <div class="template-option active" data-template="modern" onclick="changeTemplate('modern')">
                            <i class="fas fa-star"></i><br>
                            <span data-translate="temp1">Moderno</span>
                        </div>
                        <div class="template-option" data-template="classic" onclick="changeTemplate('classic')">
                            <i class="fas fa-briefcase"></i><br>
                            <span data-translate="temp2">Clásico</span>
                        </div>
                        <div class="template-option" data-template="creative" onclick="changeTemplate('creative')">
                            <i class="fas fa-lightbulb"></i><br>
                            <span data-translate="temp3">Creativo</span>
                        </div>
                    </div>

                    <div class="section-title">
                        <i class="fas fa-user"></i>
                        <span data-translate="personalTitle">Información Personal</span>
                    </div>

                    <div class="form-group photo-upload">
                        <label><i class="fas fa-camera"></i> <span data-translate="photoLabel">Foto de
                                Perfil</span>:</label>
                        <input type="file" class="form-control" id="photoInput" accept="image/*"
                            onchange="handlePhotoUpload(event)">
                        <img id="photoPreview" class="photo-preview" alt="Vista previa">
                    </div>

                    <div class="form-group">
                        <label><i class="fas fa-user-circle"></i> <span data-translate="nameLabel">Nombre
                                Completo</span>:</label>
                        <input type="text" class="form-control" id="fullName"
                            data-translate-placeholder="namePlaceholder" placeholder="Ingresa tu nombre completo"
                            oninput="updatePreview()">
                    </div>

                    <div class="form-group">
                        <label><i class="fas fa-briefcase"></i> <span data-translate="jobTitleLabel">Título
                                Profesional</span>:</label>
                        <input type="text" class="form-control" id="jobTitle"
                            data-translate-placeholder="jobTitlePlaceholder" placeholder="Ingresa tu título o puesto"
                            oninput="updatePreview()">
                    </div>

                    <div class="section-title">
                        <i class="fas fa-address-book"></i>
                        <span data-translate="contactTitle">Información de Contacto</span>
                    </div>

                    <div class="form-group">
                        <label><i class="fas fa-envelope"></i> <span data-translate="emailLabel">Correo
                                Electrónico</span>:</label>
                        <div class="input-group">
                            <span class="input-group-text"><i class="fas fa-envelope"></i></span>
                            <input type="email" class="form-control" id="email"
                                data-translate-placeholder="emailPlaceholder"
                                placeholder="Ingresa tu correo electrónico" oninput="updatePreview()">
                        </div>
                    </div>

                    <div class="form-group">
                        <label><i class="fas fa-phone"></i> <span data-translate="phoneLabel">Teléfono</span>:</label>
                        <div class="input-group">
                            <span class="input-group-text"><i class="fas fa-phone"></i></span>
                            <input type="tel" class="form-control" id="phone"
                                data-translate-placeholder="phonePlaceholder"
                                placeholder="Ingresa tu número de teléfono" oninput="updatePreview()">
                        </div>
                    </div>

                    <div class="form-group">
                        <label><i class="fab fa-linkedin"></i> <span
                                data-translate="linkedinLabel">LinkedIn</span>:</label>
                        <div class="input-group">
                            <span class="input-group-text"><i class="fab fa-linkedin"></i></span>
                            <input type="url" class="form-control" id="linkedin"
                                data-translate-placeholder="linkedinPlaceholder"
                                placeholder="Ingresa tu perfil de LinkedIn" oninput="updatePreview()">
                        </div>
                    </div>

                    <div class="form-group">
                        <label><i class="fas fa-map-marker-alt"></i> <span
                                data-translate="locationLabel">Ubicación</span>:</label>
                        <div class="input-group">
                            <span class="input-group-text"><i class="fas fa-map-marker-alt"></i></span>
                            <input type="text" class="form-control" id="location"
                                data-translate-placeholder="locationPlaceholder" placeholder="Ingresa tu ciudad y país"
                                oninput="updatePreview()">
                        </div>
                    </div>

                    <div class="section-title">
                        <i class="fas fa-briefcase"></i>
                        <span data-translate="experienceTitle">Experiencia Laboral</span>
                    </div>

                    <div id="experienceList"></div>

                    <div class="form-group">
                        <label><i class="fas fa-user-tie"></i> <span
                                data-translate="positionLabel">Puesto</span>:</label>
                        <input type="text" class="form-control" id="expPosition"
                            data-translate-placeholder="positionPlaceholder" placeholder="Ingresa el puesto">
                    </div>

                    <div class="form-group">
                        <label><i class="fas fa-building"></i> <span
                                data-translate="companyLabel">Empresa</span>:</label>
                        <input type="text" class="form-control" id="expCompany"
                            data-translate-placeholder="companyPlaceholder"
                            placeholder="Ingresa el nombre de la empresa">
                    </div>

                    <div class="row">
                        <div class="col-md-6">
                            <div class="form-group">
                                <label><i class="fas fa-calendar-alt"></i> <span data-translate="startYearLabel">Año
                                        Inicio</span>:</label>
                                <input type="text" class="form-control" id="expStartYear" placeholder="2020">
                            </div>
                        </div>
                        <div class="col-md-6">
                            <div class="form-group">
                                <label><i class="fas fa-calendar-check"></i> <span data-translate="endYearLabel">Año
                                        Fin</span>:</label>
                                <input type="text" class="form-control" id="expEndYear"
                                    data-translate-placeholder="endYearPlaceholder" placeholder="2023 o Actual">
                            </div>
                        </div>
                    </div>

                    <div class="form-group">
                        <label><i class="fas fa-align-left"></i> <span
                                data-translate="descriptionLabel">Descripción</span>:</label>
                        <textarea class="form-control" id="expDescription" rows="3"
                            data-translate-placeholder="descriptionPlaceholder"
                            placeholder="Describe tus responsabilidades y logros"></textarea>
                    </div>

                    <button class="btn btn-primary w-100 mb-3" onclick="addExperience()">
                        <i class="fas fa-plus-circle"></i> <span data-translate="addExpBtn">Agregar Experiencia</span>
                    </button>

                    <div class="section-title">
                        <i class="fas fa-graduation-cap"></i>
                        <span data-translate="educationTitle">Educación</span>
                    </div>

                    <div id="educationList"></div>

                    <div class="form-group">
                        <label><i class="fas fa-certificate"></i> <span
                                data-translate="degreeLabel">Título/Grado</span>:</label>
                        <input type="text" class="form-control" id="eduDegree"
                            data-translate-placeholder="degreePlaceholder" placeholder="Ingresa tu nivel de estudios">
                    </div>

                    <div class="form-group">
                        <label><i class="fas fa-university"></i> <span
                                data-translate="institutionLabel">Institución</span>:</label>
                        <input type="text" class="form-control" id="eduInstitution"
                            data-translate-placeholder="institutionPlaceholder"
                            placeholder="Ingresa el nombre de la institución">
                    </div>

                    <div class="row">
                        <div class="col-md-6">
                            <div class="form-group">
                                <label><i class="fas fa-calendar-alt"></i> <span data-translate="eduStartLabel">Año
                                        Inicio</span>:</label>
                                <input type="text" class="form-control" id="eduStartYear" placeholder="2015">
                            </div>
                        </div>
                        <div class="col-md-6">
                            <div class="form-group">
                                <label><i class="fas fa-calendar-check"></i> <span data-translate="eduEndLabel">Año
                                        Fin</span>:</label>
                                <input type="text" class="form-control" id="eduEndYear" placeholder="2019">
                            </div>
                        </div>
                    </div>

                    <button class="btn btn-primary w-100 mb-3" onclick="addEducation()">
                        <i class="fas fa-plus-circle"></i> <span data-translate="addEduBtn">Agregar Educación</span>
                    </button>

                    <div class="section-title">
                        <i class="fas fa-cogs"></i>
                        <span data-translate="skillsTitle">Habilidades</span>
                    </div>

                    <div id="skillsList"></div>

                    <div class="form-group">
                        <label><i class="fas fa-star"></i> <span data-translate="skillLabel">Habilidad</span>:</label>
                        <input type="text" class="form-control" id="skillInput"
                            data-translate-placeholder="skillPlaceholder" placeholder="Ingresa una habilidad">
                    </div>

                    <button class="btn btn-primary w-100 mb-3" onclick="addSkill()">
                        <i class="fas fa-plus-circle"></i> <span data-translate="addSkillBtn">Agregar Habilidad</span>
                    </button>
                </div>

                <div class="preview-panel">
                    <div class="section-title">
                        <i class="fas fa-eye"></i>
                        <span data-translate="previewTitle">Vista Previa</span>
                    </div>
                    <div id="cvPreview" class="cv-preview template-modern"></div>
                </div>
            </div>

            <div class="action-buttons">
                <button class="btn btn-primary" onclick="saveData()">
                    <i class="fas fa-save"></i> <span data-translate="saveBtn">Guardar Progreso</span>
                </button>
                <button class="btn btn-primary" onclick="loadData()">
                    <i class="fas fa-folder-open"></i> <span data-translate="loadBtn">Cargar Guardado</span>
                </button>
                <button class="btn btn-primary" onclick="exportPDF()">
                    <i class="fas fa-file-pdf"></i> <span data-translate="exportBtn">Exportar a PDF</span>
                </button>
                <button class="btn btn-danger" onclick="clearAll()">
                    <i class="fas fa-trash-alt"></i> <span data-translate="clearBtn">Limpiar Todo</span>
                </button>
            </div>
        </div>
    </div>

    <button class="mobile-preview-btn" onclick="openPreviewModal()">
        <i class="fas fa-eye"></i>
    </button>

    <div class="preview-modal" id="previewModal">
        <button class="close-modal" onclick="closePreviewModal()">
            <i class="fas fa-times"></i>
        </button>
        <div class="preview-modal-content">
            <div id="cvPreviewModal" class="cv-preview template-modern"></div>
        </div>
    </div>

    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.7.1/jquery.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/html2canvas/1.4.1/html2canvas.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/limonte-sweetalert2/11.7.32/sweetalert2.all.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/bootstrap/5.3.2/js/bootstrap.bundle.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/html2canvas/1.4.1/html2canvas.min.js"></script>

    <script>
        let currentLang = 'es';
        let currentTemplate = 'modern';
        let experiences = [];
        let education = [];
        let skills = [];
        let photoData = null;

        const translations = {
            es: {
                mainTitle: 'Generador de Currículums',
                subtitle: 'Crea tu currículum profesional en minutos',
                templateTitle: 'Seleccionar Plantilla',
                temp1: 'Moderno',
                temp2: 'Clásico',
                temp3: 'Creativo',
                personalTitle: 'Información Personal',
                photoLabel: 'Foto de Perfil',
                nameLabel: 'Nombre Completo',
                namePlaceholder: 'Ingresa tu nombre completo',
                jobTitleLabel: 'Título Profesional',
                jobTitlePlaceholder: 'Ingresa tu título o puesto',
                contactTitle: 'Información de Contacto',
                emailLabel: 'Correo Electrónico',
                emailPlaceholder: 'Ingresa tu correo electrónico',
                phoneLabel: 'Teléfono',
                phonePlaceholder: 'Ingresa tu número de teléfono',
                linkedinLabel: 'LinkedIn',
                linkedinPlaceholder: 'Ingresa tu perfil de LinkedIn',
                locationLabel: 'Ubicación',
                locationPlaceholder: 'Ingresa tu ciudad y país',
                experienceTitle: 'Experiencia Laboral',
                positionLabel: 'Puesto',
                positionPlaceholder: 'Ingresa el puesto',
                companyLabel: 'Empresa',
                companyPlaceholder: 'Ingresa el nombre de la empresa',
                startYearLabel: 'Año Inicio',
                endYearLabel: 'Año Fin',
                endYearPlaceholder: '2023 o Actual',
                descriptionLabel: 'Descripción',
                descriptionPlaceholder: 'Describe tus responsabilidades y logros',
                addExpBtn: 'Agregar Experiencia',
                educationTitle: 'Educación',
                degreeLabel: 'Título/Grado',
                degreePlaceholder: 'Ingresa tu nivel de estudios',
                institutionLabel: 'Institución',
                institutionPlaceholder: 'Ingresa el nombre de la institución',
                eduStartLabel: 'Año Inicio',
                eduEndLabel: 'Año Fin',
                addEduBtn: 'Agregar Educación',
                skillsTitle: 'Habilidades',
                skillLabel: 'Habilidad',
                skillPlaceholder: 'Ingresa una habilidad',
                addSkillBtn: 'Agregar Habilidad',
                previewTitle: 'Vista Previa',
                saveBtn: 'Guardar Progreso',
                loadBtn: 'Cargar Guardado',
                exportBtn: 'Exportar a PDF',
                clearBtn: 'Limpiar Todo',
                expTitle: 'EXPERIENCIA LABORAL',
                eduTitle: 'EDUCACIÓN',
                skillsPreview: 'HABILIDADES',
                langBtnText: 'English',
                defaultName: 'Tu Nombre',
                defaultTitle: 'Título Profesional'
            },
            en: {
                mainTitle: 'Resume Builder',
                subtitle: 'Create your professional resume in minutes',
                templateTitle: 'Select Template',
                temp1: 'Modern',
                temp2: 'Classic',
                temp3: 'Creative',
                personalTitle: 'Personal Information',
                photoLabel: 'Profile Photo',
                nameLabel: 'Full Name',
                namePlaceholder: 'Enter your full name',
                jobTitleLabel: 'Job Title',
                jobTitlePlaceholder: 'Enter your title or position',
                contactTitle: 'Contact Information',
                emailLabel: 'Email',
                emailPlaceholder: 'Enter your email address',
                phoneLabel: 'Phone',
                phonePlaceholder: 'Enter your phone number',
                linkedinLabel: 'LinkedIn',
                linkedinPlaceholder: 'Enter your LinkedIn profile',
                locationLabel: 'Location',
                locationPlaceholder: 'Enter your city and country',
                experienceTitle: 'Work Experience',
                positionLabel: 'Position',
                positionPlaceholder: 'Enter the position',
                companyLabel: 'Company',
                companyPlaceholder: 'Enter the company name',
                startYearLabel: 'Start Year',
                endYearLabel: 'End Year',
                endYearPlaceholder: '2023 or Current',
                descriptionLabel: 'Description',
                descriptionPlaceholder: 'Describe your responsibilities and achievements',
                addExpBtn: 'Add Experience',
                educationTitle: 'Education',
                degreeLabel: 'Degree',
                degreePlaceholder: 'Enter your education level',
                institutionLabel: 'Institution',
                institutionPlaceholder: 'Enter the institution name',
                eduStartLabel: 'Start Year',
                eduEndLabel: 'End Year',
                addEduBtn: 'Add Education',
                skillsTitle: 'Skills',
                skillLabel: 'Skill',
                skillPlaceholder: 'Enter a skill',
                addSkillBtn: 'Add Skill',
                previewTitle: 'Preview',
                saveBtn: 'Save Progress',
                loadBtn: 'Load Saved',
                exportBtn: 'Export to PDF',
                clearBtn: 'Clear All',
                expTitle: 'WORK EXPERIENCE',
                eduTitle: 'EDUCATION',
                skillsPreview: 'SKILLS',
                langBtnText: 'Español',
                defaultName: 'Your Name',
                defaultTitle: 'Professional Title'
            }
        };

        function toggleLanguage() {
            currentLang = currentLang === 'es' ? 'en' : 'es';
            translateUserContent();
            updateLanguage();
        }

        async function translateUserContent() {
            // Simular traducción básica de títulos comunes
            const commonTranslations = {
                es: {
                    'Desarrollador': 'Developer',
                    'Ingeniero': 'Engineer',
                    'Gerente': 'Manager',
                    'Diseñador': 'Designer',
                    'Analista': 'Analyst',
                    'Coordinador': 'Coordinator',
                    'Director': 'Director',
                    'Asistente': 'Assistant',
                    'Experiencia': 'Experience',
                    'Educación': 'Education',
                    'Habilidades': 'Skills',
                    'Actual': 'Current',
                    'Presente': 'Present'
                },
                en: {
                    'Developer': 'Desarrollador',
                    'Engineer': 'Ingeniero',
                    'Manager': 'Gerente',
                    'Designer': 'Diseñador',
                    'Analyst': 'Analista',
                    'Coordinator': 'Coordinador',
                    'Director': 'Director',
                    'Assistant': 'Asistente',
                    'Experience': 'Experiencia',
                    'Education': 'Educación',
                    'Skills': 'Habilidades',
                    'Current': 'Actual',
                    'Present': 'Presente'
                }
            };

            const dict = commonTranslations[currentLang === 'es' ? 'en' : 'es'];

            // Traducir título profesional
            let jobTitle = $('#jobTitle').val();
            Object.keys(dict).forEach(key => {
                const regex = new RegExp(key, 'gi');
                jobTitle = jobTitle.replace(regex, dict[key]);
            });
            $('#jobTitle').val(jobTitle);

            // Traducir experiencias
            experiences.forEach(exp => {
                Object.keys(dict).forEach(key => {
                    const regex = new RegExp(key, 'gi');
                    exp.position = exp.position.replace(regex, dict[key]);
                    exp.endYear = exp.endYear.replace(regex, dict[key]);
                });
            });
            renderExperienceList();
        }

        function updateLanguage() {
            const t = translations[currentLang];

            // Actualizar todos los textos
            $('[data-translate]').each(function () {
                const key = $(this).data('translate');
                if (t[key]) {
                    $(this).text(t[key]);
                }
            });

            // Actualizar placeholders
            $('[data-translate-placeholder]').each(function () {
                const key = $(this).data('translate-placeholder');
                if (t[key]) {
                    $(this).attr('placeholder', t[key]);
                }
            });

            updatePreview();
        }

        function handlePhotoUpload(event) {
            const file = event.target.files[0];
            if (file) {
                const reader = new FileReader();
                reader.onload = function (e) {
                    photoData = e.target.result;
                    $('#photoPreview').addClass('active').attr('src', photoData);
                    updatePreview();
                };
                reader.readAsDataURL(file);
            }
        }

        function changeTemplate(template) {
            currentTemplate = template;
            $('.template-option').removeClass('active');
            $(`.template-option[data-template="${template}"]`).addClass('active');
            $('#cvPreview, #cvPreviewModal').removeClass('template-modern template-classic template-creative');
            $('#cvPreview, #cvPreviewModal').addClass(`template-${template}`);
            updatePreview();
        }

        function addExperience() {
            const exp = {
                position: $('#expPosition').val(),
                company: $('#expCompany').val(),
                startYear: $('#expStartYear').val(),
                endYear: $('#expEndYear').val(),
                description: $('#expDescription').val()
            };

            if (exp.position && exp.company) {
                experiences.push(exp);
                $('#expPosition, #expCompany, #expStartYear, #expEndYear, #expDescription').val('');
                renderExperienceList();
                updatePreview();
            }
        }

        function renderExperienceList() {
            let html = '';
            experiences.forEach((exp, index) => {
                html += `
                    <div class="item-list">
                        <strong><i class="fas fa-briefcase"></i> ${exp.position}</strong> - ${exp.company}
                        <br><small><i class="fas fa-calendar"></i> ${exp.startYear} - ${exp.endYear}</small>
                        <button class="btn btn-danger btn-sm float-end" onclick="removeExperience(${index})">
                            <i class="fas fa-trash"></i>
                        </button>
                    </div>
                `;
            });
            $('#experienceList').html(html);
        }

        function removeExperience(index) {
            experiences.splice(index, 1);
            renderExperienceList();
            updatePreview();
        }

        function addEducation() {
            const edu = {
                degree: $('#eduDegree').val(),
                institution: $('#eduInstitution').val(),
                startYear: $('#eduStartYear').val(),
                endYear: $('#eduEndYear').val()
            };

            if (edu.degree && edu.institution) {
                education.push(edu);
                $('#eduDegree, #eduInstitution, #eduStartYear, #eduEndYear').val('');
                renderEducationList();
                updatePreview();
            }
        }

        function renderEducationList() {
            let html = '';
            education.forEach((edu, index) => {
                html += `
                    <div class="item-list">
                        <strong><i class="fas fa-graduation-cap"></i> ${edu.degree}</strong> - ${edu.institution}
                        <br><small><i class="fas fa-calendar"></i> ${edu.startYear} - ${edu.endYear}</small>
                        <button class="btn btn-danger btn-sm float-end" onclick="removeEducation(${index})">
                            <i class="fas fa-trash"></i>
                        </button>
                    </div>
                `;
            });
            $('#educationList').html(html);
        }

        function removeEducation(index) {
            education.splice(index, 1);
            renderEducationList();
            updatePreview();
        }

        function addSkill() {
            const skill = $('#skillInput').val();
            if (skill) {
                skills.push(skill);
                $('#skillInput').val('');
                renderSkillsList();
                updatePreview();
            }
        }

        function renderSkillsList() {
            let html = '';
            skills.forEach((skill, index) => {
                html += `
                    <div class="item-list">
                        <i class="fas fa-check-circle"></i> ${skill}
                        <button class="btn btn-danger btn-sm float-end" onclick="removeSkill(${index})">
                            <i class="fas fa-trash"></i>
                        </button>
                    </div>
                `;
            });
            $('#skillsList').html(html);
        }

        function removeSkill(index) {
            skills.splice(index, 1);
            renderSkillsList();
            updatePreview();
        }

        function updatePreview() {
            const t = translations[currentLang];
            const name = $('#fullName').val() || t.defaultName;
            const jobTitle = $('#jobTitle').val() || t.defaultTitle;
            const email = $('#email').val();
            const phone = $('#phone').val();
            const linkedin = $('#linkedin').val();
            const location = $('#location').val();

            let photoHtml = '';
            if (photoData) {
                photoHtml = `
                    <div class="cv-photo">
                        <img src="${photoData}" alt="Foto de perfil">
                    </div>
                `;
            }

            let contactHtml = '';
            if (email) contactHtml += `<div class="cv-contact-item"><i class="fas fa-envelope"></i> ${email}</div>`;
            if (phone) contactHtml += `<div class="cv-contact-item"><i class="fas fa-phone"></i> ${phone}</div>`;
            if (linkedin) contactHtml += `<div class="cv-contact-item"><i class="fab fa-linkedin"></i> ${linkedin}</div>`;
            if (location) contactHtml += `<div class="cv-contact-item"><i class="fas fa-map-marker-alt"></i> ${location}</div>`;

            let experienceHtml = '';
            if (experiences.length > 0) {
                experienceHtml = `<div class="cv-section">
                    <div class="cv-section-title"><i class="fas fa-briefcase"></i> ${t.expTitle}</div>`;
                experiences.forEach(exp => {
                    experienceHtml += `
                        <div class="cv-item">
                            <div class="cv-item-header">
                                <div class="cv-item-title">${exp.position}</div>
                                <div class="cv-item-date">${exp.startYear} - ${exp.endYear}</div>
                            </div>
                            <div class="cv-item-subtitle"><i class="fas fa-building"></i> ${exp.company}</div>
                            ${exp.description ? `<div class="cv-item-description">${exp.description}</div>` : ''}
                        </div>
                    `;
                });
                experienceHtml += '</div>';
            }

            let educationHtml = '';
            if (education.length > 0) {
                educationHtml = `<div class="cv-section">
                    <div class="cv-section-title"><i class="fas fa-graduation-cap"></i> ${t.eduTitle}</div>`;
                education.forEach(edu => {
                    educationHtml += `
                        <div class="cv-item">
                            <div class="cv-item-header">
                                <div class="cv-item-title">${edu.degree}</div>
                                <div class="cv-item-date">${edu.startYear} - ${edu.endYear}</div>
                            </div>
                            <div class="cv-item-subtitle"><i class="fas fa-university"></i> ${edu.institution}</div>
                        </div>
                    `;
                });
                educationHtml += '</div>';
            }

            let skillsHtml = '';
            if (skills.length > 0) {
                skillsHtml = `<div class="cv-section">
                    <div class="cv-section-title"><i class="fas fa-cogs"></i> ${t.skillsPreview}</div>
                    <div class="cv-skills-grid">`;
                skills.forEach(skill => {
                    skillsHtml += `<div class="cv-skill-item"><i class="fas fa-check-circle"></i> ${skill}</div>`;
                });
                skillsHtml += '</div></div>';
            }

            const previewHtml = `
                <div class="cv-header-section">
                    ${photoHtml}
                    <div class="cv-header-info">
                        <div class="cv-name">${name}</div>
                        <div class="cv-title">${jobTitle}</div>
                        <div class="cv-contact">${contactHtml}</div>
                    </div>
                </div>
                ${experienceHtml}
                ${educationHtml}
                ${skillsHtml}
            `;

            $('#cvPreview').html(previewHtml);
            $('#cvPreviewModal').html(previewHtml);
        }

        function saveData() {
            const data = {
                personal: {
                    fullName: $('#fullName').val(),
                    jobTitle: $('#jobTitle').val(),
                    email: $('#email').val(),
                    phone: $('#phone').val(),
                    linkedin: $('#linkedin').val(),
                    location: $('#location').val(),
                    photo: photoData
                },
                style: {
                    template: currentTemplate
                },
                experiences: experiences,
                education: education,
                skills: skills,
                language: currentLang
            };

            window.cvData = data;
            Swal.fire({
                icon: 'success',
                title: currentLang === 'es' ? '¡Éxito!' : 'Success!',
                text: currentLang === 'es' ? 'Datos guardados exitosamente' : 'Data saved successfully',
                confirmButtonColor: '#000',
                timer: 2000
            });
        }

        function loadData() {
            const data = window.cvData;

            if (!data) {
                Swal.fire({
                    icon: 'warning',
                    title: currentLang === 'es' ? 'Atención' : 'Warning',
                    text: currentLang === 'es' ? 'No hay datos guardados' : 'No saved data found',
                    confirmButtonColor: '#000'
                });
                return;
            }

            $('#fullName').val(data.personal.fullName || '');
            $('#jobTitle').val(data.personal.jobTitle || '');
            $('#email').val(data.personal.email || '');
            $('#phone').val(data.personal.phone || '');
            $('#linkedin').val(data.personal.linkedin || '');
            $('#location').val(data.personal.location || '');

            if (data.personal.photo) {
                photoData = data.personal.photo;
                $('#photoPreview').addClass('active').attr('src', photoData);
            }

            currentTemplate = data.style.template || 'modern';
            changeTemplate(currentTemplate);

            experiences = data.experiences || [];
            education = data.education || [];
            skills = data.skills || [];

            currentLang = data.language || 'es';
            updateLanguage();

            renderExperienceList();
            renderEducationList();
            renderSkillsList();
            updatePreview();

            Swal.fire({
                icon: 'success',
                title: currentLang === 'es' ? '¡Éxito!' : 'Success!',
                text: currentLang === 'es' ? 'Datos cargados exitosamente' : 'Data loaded successfully',
                confirmButtonColor: '#000',
                timer: 2000
            });
        }

        function clearAll() {
            Swal.fire({
                title: currentLang === 'es' ? '¿Estás seguro?' : 'Are you sure?',
                text: currentLang === 'es' ? '¿Deseas limpiar todos los datos?' : 'Do you want to clear all data?',
                icon: 'warning',
                showCancelButton: true,
                confirmButtonColor: '#000',
                cancelButtonColor: '#d33',
                confirmButtonText: currentLang === 'es' ? 'Sí, limpiar' : 'Yes, clear',
                cancelButtonText: currentLang === 'es' ? 'Cancelar' : 'Cancel'
            }).then((result) => {
                if (result.isConfirmed) {
                    $('#fullName, #jobTitle, #email, #phone, #linkedin, #location').val('');
                    $('#photoInput').val('');
                    $('#photoPreview').removeClass('active').attr('src', '');
                    photoData = null;

                    experiences = [];
                    education = [];
                    skills = [];

                    renderExperienceList();
                    renderEducationList();
                    renderSkillsList();
                    updatePreview();

                    window.cvData = null;

                    Swal.fire({
                        icon: 'success',
                        title: currentLang === 'es' ? '¡Limpiado!' : 'Cleared!',
                        text: currentLang === 'es' ? 'Todos los datos han sido eliminados' : 'All data has been cleared',
                        confirmButtonColor: '#000',
                        timer: 2000,
                        showConfirmButton: false
                    });
                }
            });
        }

        function openPreviewModal() {
            $('#previewModal').addClass('active');
            updatePreview();
        }

        function closePreviewModal() {
            $('#previewModal').removeClass('active');
        }

        async function exportPDF() {
            const name = $('#fullName').val() || 'curriculum';
            const filename = name.replace(/\s+/g, '_') + '_CV.pdf';

            const element = document.getElementById('cvPreview');
            const buttons = document.querySelectorAll('.action-buttons');

            buttons.forEach(btn => btn.style.display = 'none');

            const loadingMsg = document.createElement('div');
            loadingMsg.className = 'loading';
            loadingMsg.innerHTML = `
                <div class="spinner"></div>
                <p>${currentLang === 'es' ? 'Generando PDF...' : 'Generating PDF...'}</p>
            `;
            document.querySelector('.preview-panel') ?
                document.querySelector('.preview-panel').appendChild(loadingMsg) :
                document.querySelector('.preview-modal-content').appendChild(loadingMsg);

            try {
                const canvas = await html2canvas(element, {
                    scale: 3,
                    useCORS: true,
                    logging: false,
                    backgroundColor: '#ffffff',
                    width: element.scrollWidth,
                    height: element.scrollHeight
                });

                const { jsPDF } = window.jspdf;

                const pdf = new jsPDF('p', 'mm', 'a4');
                const pageWidth = 210;
                const pageHeight = 297;
                const margin = 10;
                const contentWidth = pageWidth - (2 * margin);

                const imgWidth = contentWidth;
                const imgHeight = (canvas.height * imgWidth) / canvas.width;

                const imgData = canvas.toDataURL('image/jpeg', 1.0);

                // Escalar para que todo quepa en una página
                if (imgHeight > pageHeight - (2 * margin)) {
                    const scale = (pageHeight - (2 * margin)) / imgHeight;
                    const scaledWidth = imgWidth * scale;
                    const scaledHeight = imgHeight * scale;
                    const xOffset = (pageWidth - scaledWidth) / 2;
                    pdf.addImage(imgData, 'JPEG', xOffset, margin, scaledWidth, scaledHeight);
                } else {
                    pdf.addImage(imgData, 'JPEG', margin, margin, imgWidth, imgHeight);
                }

                pdf.save(filename);

                loadingMsg.remove();
                buttons.forEach(btn => btn.style.display = 'flex');

                Swal.fire({
                    icon: 'success',
                    title: currentLang === 'es' ? '¡Éxito!' : 'Success!',
                    text: currentLang === 'es' ? 'PDF generado exitosamente' : 'PDF generated successfully',
                    confirmButtonColor: '#000',
                    timer: 2000
                });

            } catch (error) {
                console.error('Error al generar PDF:', error);
                loadingMsg.remove();
                buttons.forEach(btn => btn.style.display = 'flex');
                Swal.fire({
                    icon: 'error',
                    title: currentLang === 'es' ? 'Error' : 'Error',
                    text: currentLang === 'es' ? 'Error al generar PDF. Por favor intenta de nuevo.' : 'Error generating PDF. Please try again.',
                    confirmButtonColor: '#000'
                });
            }
        }

        $(document).ready(function () {
            updatePreview();

            $('#skillInput').keypress(function (e) {
                if (e.which === 13) {
                    addSkill();
                }
            });

            $('#expDescription').keypress(function (e) {
                if (e.which === 13 && e.ctrlKey) {
                    addExperience();
                }
            });
        });
    </script>
</body>

</html>
