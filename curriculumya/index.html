<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Curriculum Ya - Generador de Curr√≠culums Profesional</title>
    <link href="https://cdnjs.cloudflare.com/ajax/libs/bootstrap/5.3.2/css/bootstrap.min.css" rel="stylesheet">
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/all.min.css" rel="stylesheet">
    <link href="https://cdnjs.cloudflare.com/ajax/libs/limonte-sweetalert2/11.7.32/sweetalert2.min.css" rel="stylesheet">
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;800&family=Playfair+Display:wght@700&display=swap');

        :root {
            --primary: #1a365d;
            --primary-dark: #0f2744;
            --primary-light: #2d4a73;
            --secondary: #2c5282;
            --accent: #d69e2e;
            --success: #2f855a;
            --warning: #c05621;
            --danger: #c53030;
            --dark: #1a202c;
            --gray-50: #f7fafc;
            --gray-100: #edf2f7;
            --gray-200: #e2e8f0;
            --gray-300: #cbd5e1;
            --gray-700: #2d3748;
            --gray-800: #1a202c;
            --gray-900: #171923;
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Inter', sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 50%, #f093fb 100%);
            min-height: 100vh;
            padding: 0;
            overflow-x: hidden;
        }

        #langBtn{
            visibility:hidden;
        }

        /* Animated Background */
        body::before {
            content: '';
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: 
                radial-gradient(circle at 20% 50%, rgba(120, 119, 198, 0.3) 0%, transparent 50%),
                radial-gradient(circle at 80% 80%, rgba(255, 89, 149, 0.3) 0%, transparent 50%),
                radial-gradient(circle at 40% 20%, rgba(138, 43, 226, 0.3) 0%, transparent 50%);
            animation: gradientShift 15s ease infinite;
            z-index: -1;
        }

        @keyframes gradientShift {
            0%, 100% { opacity: 1; }
            50% { opacity: 0.7; }
        }

        .main-container {
            background: white;
            border-radius: 30px;
            box-shadow: 0 25px 80px rgba(0, 0, 0, 0.15);
            overflow: hidden;
            animation: slideUp 0.8s cubic-bezier(0.16, 1, 0.3, 1);
            margin: 30px auto;
            max-width: 1600px;
        }

        @keyframes slideUp {
            from {
                opacity: 0;
                transform: translateY(60px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        /* Header Styles */
        .header {
            background: linear-gradient(135deg, var(--primary-dark) 0%, var(--primary) 50%, var(--secondary) 100%);
            color: white;
            padding: 50px 30px;
            text-align: center;
            position: relative;
            overflow: hidden;
        }

        .header::before {
            content: '';
            position: absolute;
            top: -50%;
            left: -50%;
            width: 200%;
            height: 200%;
            background: radial-gradient(circle, rgba(255, 255, 255, 0.15) 0%, transparent 70%);
            animation: pulse 6s infinite;
        }

        .header h1 {
            font-family: 'Playfair Display', serif;
            font-size: 3rem;
            font-weight: 700;
            margin-bottom: 15px;
            position: relative;
            z-index: 1;
            text-shadow: 0 4px 20px rgba(0, 0, 0, 0.3);
        }

        .header p {
            font-size: 1.2rem;
            opacity: 0.95;
            position: relative;
            z-index: 1;
        }

        .language-switch {
            position: absolute;
            top: 25px;
            right: 30px;
            z-index: 2;
        }

        .language-switch button {
            background: rgba(255, 255, 255, 0.25);
            backdrop-filter: blur(10px);
            border: 2px solid rgba(255, 255, 255, 0.4);
            color: white;
            padding: 10px 20px;
            border-radius: 25px;
            cursor: pointer;
            transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
            font-weight: 600;
            font-size: 0.95rem;
        }

        .language-switch button:hover {
            background: white;
            color: var(--primary);
            transform: translateY(-2px);
            box-shadow: 0 10px 25px rgba(0, 0, 0, 0.2);
        }

        /* Credits Section */
        .credits-section {
            background: linear-gradient(135deg, var(--gray-50) 0%, var(--gray-100) 100%);
            padding: 35px;
            text-align: center;
            border-bottom: 1px solid var(--gray-200);
        }

        .credits-section h3 {
            font-size: 1.5rem;
            font-weight: 700;
            margin-bottom: 15px;
            color: var(--dark);
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 10px;
        }

        .credits-section p {
            color: var(--gray-700);
            margin-bottom: 25px;
            font-size: 1rem;
        }

        .social-links {
            display: flex;
            gap: 15px;
            justify-content: center;
            flex-wrap: wrap;
        }

        .social-links a {
            display: inline-flex;
            align-items: center;
            gap: 10px;
            padding: 12px 24px;
            text-decoration: none;
            border-radius: 12px;
            font-weight: 600;
            transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
            box-shadow: 0 4px 15px rgba(0, 0, 0, 0.1);
        }

        .social-links a:hover {
            transform: translateY(-3px);
            box-shadow: 0 8px 25px rgba(0, 0, 0, 0.2);
        }

        .social-linkedin {
            background: #0077b5;
            color: white;
        }

        .social-instagram {
            background: linear-gradient(45deg, #f09433 0%, #e6683c 25%, #dc2743 50%, #cc2366 75%, #bc1888 100%);
            color: white;
        }

        .social-kofi {
            background: #FF5E5B;
            color: white;
        }

        /* Content Area */
        .content-area {
            display: flex;
            min-height: 700px;
        }

        /* Editor Panel */
        .editor-panel {
            flex: 1;
            padding: 40px;
            background: var(--gray-50);
            overflow-y: auto;
            max-height: 900px;
        }

        .editor-panel::-webkit-scrollbar {
            width: 8px;
        }

        .editor-panel::-webkit-scrollbar-track {
            background: var(--gray-100);
        }

        .editor-panel::-webkit-scrollbar-thumb {
            background: var(--primary);
            border-radius: 4px;
        }

        /* Preview Panel */
        .preview-panel {
            flex: 1;
            padding: 40px;
            background: var(--gray-100);
            overflow-y: auto;
            max-height: 900px;
        }

        .preview-panel::-webkit-scrollbar {
            width: 8px;
        }

        .preview-panel::-webkit-scrollbar-track {
            background: var(--gray-200);
        }

        .preview-panel::-webkit-scrollbar-thumb {
            background: var(--secondary);
            border-radius: 4px;
        }

        /* Section Titles */
        .section-title {
            color: var(--dark);
            font-size: 1.75rem;
            font-weight: 700;
            margin-bottom: 25px;
            padding-bottom: 15px;
            border-bottom: 3px solid var(--primary);
            display: flex;
            align-items: center;
            gap: 12px;
            position: relative;
        }

        .section-title::after {
            content: '';
            position: absolute;
            bottom: -3px;
            left: 0;
            width: 80px;
            height: 3px;
            background: var(--accent);
            border-radius: 2px;
        }

        .section-title i {
            color: var(--primary);
            font-size: 1.5rem;
        }

        /* Form Styles */
        .form-group {
            margin-bottom: 25px;
            animation: fadeInUp 0.5s ease-out;
        }

        @keyframes fadeInUp {
            from {
                opacity: 0;
                transform: translateY(20px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        .form-control, .form-select {
            border-radius: 12px;
            border: 2px solid var(--gray-200);
            padding: 14px 18px;
            transition: all 0.3s;
            font-family: 'Inter', sans-serif;
            font-size: 0.95rem;
            background: white;
        }

        .form-control:focus, .form-select:focus {
            border-color: var(--primary);
            box-shadow: 0 0 0 4px rgba(37, 99, 235, 0.1);
            outline: none;
        }

        label {
            font-weight: 600;
            color: var(--gray-700);
            margin-bottom: 10px;
            display: flex;
            align-items: center;
            gap: 8px;
            font-size: 0.95rem;
        }

        label i {
            color: var(--primary);
        }

        .input-group-text {
            background: var(--gray-100);
            border: 2px solid var(--gray-200);
            border-right: none;
            border-radius: 12px 0 0 12px;
            color: var(--primary);
        }

        .input-group .form-control {
            border-left: none;
            border-radius: 0 12px 12px 0;
        }

        /* Buttons */
        .btn-primary {
            background: linear-gradient(135deg, var(--primary) 0%, var(--primary-light) 100%);
            border: none;
            border-radius: 12px;
            padding: 14px 32px;
            font-weight: 600;
            transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
            position: relative;
            overflow: hidden;
            color: white;
            box-shadow: 0 4px 15px rgba(37, 99, 235, 0.3);
        }

        .btn-primary::before {
            content: '';
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: linear-gradient(90deg, transparent, rgba(255, 255, 255, 0.3), transparent);
            transition: left 0.5s;
        }

        .btn-primary:hover::before {
            left: 100%;
        }

        .btn-primary:hover {
            transform: translateY(-3px);
            box-shadow: 0 8px 25px rgba(37, 99, 235, 0.4);
        }

        .btn-danger {
            background: linear-gradient(135deg, var(--danger) 0%, #dc2626 100%);
            border: none;
            border-radius: 12px;
            padding: 10px 20px;
            transition: all 0.3s;
            box-shadow: 0 4px 15px rgba(239, 68, 68, 0.3);
        }

        .btn-danger:hover {
            transform: translateY(-2px);
            box-shadow: 0 6px 20px rgba(239, 68, 68, 0.4);
        }

        .btn-success {
            background: linear-gradient(135deg, var(--success) 0%, #059669 100%);
            border: none;
            border-radius: 12px;
            padding: 14px 32px;
            font-weight: 600;
            box-shadow: 0 4px 15px rgba(16, 185, 129, 0.3);
        }

        .btn-warning {
            background: linear-gradient(135deg, var(--warning) 0%, #d97706 100%);
            border: none;
            border-radius: 12px;
            padding: 14px 32px;
            font-weight: 600;
            box-shadow: 0 4px 15px rgba(245, 158, 11, 0.3);
        }

        /* Template Selector */
        .template-selector {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(160px, 1fr));
            gap: 20px;
            margin-bottom: 30px;
        }

        .template-option {
            padding: 25px 20px;
            border: 3px solid var(--gray-200);
            border-radius: 16px;
            cursor: pointer;
            transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
            text-align: center;
            background: white;
            position: relative;
            overflow: hidden;
        }

        .template-option::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: linear-gradient(135deg, var(--primary) 0%, var(--secondary) 100%);
            opacity: 0;
            transition: opacity 0.3s;
        }

        .template-option:hover {
            transform: translateY(-5px);
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.15);
            border-color: var(--primary);
        }

        .template-option.active {
            border-color: var(--primary);
            background: linear-gradient(135deg, var(--primary) 0%, var(--secondary) 100%);
            color: white;
            box-shadow: 0 10px 30px rgba(37, 99, 235, 0.3);
        }

        .template-option i {
            font-size: 2rem;
            margin-bottom: 10px;
            display: block;
        }

        .template-option span {
            font-weight: 600;
            font-size: 1rem;
        }

        /* Item List */
        .item-list {
            background: white;
            padding: 20px;
            border-radius: 16px;
            margin-bottom: 15px;
            border-left: 5px solid var(--primary);
            animation: slideIn 0.4s ease-out;
            box-shadow: 0 4px 15px rgba(0, 0, 0, 0.05);
            transition: all 0.3s;
        }

        .item-list:hover {
            box-shadow: 0 8px 25px rgba(0, 0, 0, 0.1);
            transform: translateX(5px);
        }

        /* Photo Upload */
        .photo-upload {
            margin-bottom: 30px;
            text-align: center;
        }

        .photo-preview {
            width: 180px;
            height: 180px;
            border-radius: 50%;
            object-fit: cover;
            border: 5px solid var(--primary);
            margin: 20px auto;
            display: none;
            box-shadow: 0 10px 30px rgba(37, 99, 235, 0.3);
        }

        .photo-preview.active {
            display: block;
        }

        /* CV Preview Styles */
        .cv-preview {
            background: white;
            border-radius: 16px;
            padding: 50px;
            box-shadow: 0 15px 50px rgba(0, 0, 0, 0.1);
            font-size: 11px;
            min-height: 500px;
            font-family: 'Inter', sans-serif;
            line-height: 1.6;
            max-width: 210mm;
            margin: 0 auto;
        }

        /* Template: Modern */
        .cv-preview.template-modern .cv-header-section {
            display: flex;
            align-items: flex-start;
            gap: 30px;
            padding-bottom: 25px;
            border-bottom: 4px solid var(--primary);
            margin-bottom: 30px;
            position: relative;
        }

        .cv-preview.template-modern .cv-header-section::after {
            content: '';
            position: absolute;
            bottom: -4px;
            left: 0;
            width: 100px;
            height: 4px;
            background: var(--accent);
        }

        /* Template: Executive (nueva) */
        .cv-preview.template-executive .cv-header-section {
            background: linear-gradient(135deg, var(--gray-900) 0%, var(--gray-800) 100%);
            color: white;
            padding: 40px;
            margin: -50px -50px 30px -50px;
            display: flex;
            align-items: center;
            gap: 30px;
        }

        .cv-preview.template-executive .cv-name {
            color: white;
        }

        .cv-preview.template-executive .cv-title {
            color: var(--gray-300);
        }

        .cv-preview.template-executive .cv-contact-item {
            color: var(--gray-300);
        }

        .cv-preview.template-executive .cv-section-title {
            background: var(--gray-900);
            color: white;
            padding: 10px 20px;
            margin-left: -15px;
            margin-right: -15px;
            border-radius: 8px;
        }

        /* Template: Minimalist (nueva) */
        .cv-preview.template-minimalist .cv-header-section {
            border-bottom: 1px solid var(--gray-300);
            padding-bottom: 20px;
            margin-bottom: 30px;
        }

        .cv-preview.template-minimalist .cv-section-title {
            border-bottom: none;
            border-left: 4px solid var(--primary);
            padding-left: 15px;
            font-size: 14px;
        }

        .cv-preview.template-minimalist .cv-item {
            border-left: 2px solid var(--gray-200);
            padding-left: 20px;
            margin-left: 10px;
        }

        /* Template: Creative */
        .cv-preview.template-creative .cv-header-section {
            border-bottom: none;
            background: linear-gradient(135deg, #f0f9ff 0%, #e0f2fe 100%);
            padding: 30px;
            margin: -50px -50px 30px -50px;
            border-radius: 0;
            position: relative;
            overflow: hidden;
        }

        .cv-preview.template-creative .cv-header-section::before {
            content: '';
            position: absolute;
            top: -50%;
            right: -10%;
            width: 300px;
            height: 300px;
            background: radial-gradient(circle, rgba(37, 99, 235, 0.1) 0%, transparent 70%);
            border-radius: 50%;
        }

        .cv-preview.template-creative .cv-section-title {
            border-bottom: none;
            border-left: 6px solid var(--accent);
            padding-left: 15px;
            color: var(--primary);
        }

        /* Template: Classic */
        .cv-preview.template-classic .cv-header-section {
            border-bottom: 2px solid var(--gray-800);
            padding-bottom: 20px;
        }

        .cv-preview.template-classic .cv-section-title {
            background: var(--gray-900);
            color: white;
            padding: 8px 15px;
            margin-left: -10px;
            margin-right: -10px;
            border-bottom: none;
            border-radius: 4px;
        }

        /* Template: Elegant (nueva) */
        .cv-preview.template-elegant .cv-header-section {
            text-align: center;
            border-bottom: 2px solid var(--accent);
            padding-bottom: 25px;
            margin-bottom: 30px;
        }

        .cv-preview.template-elegant .cv-photo {
            margin: 0 auto 20px;
        }

        .cv-preview.template-elegant .cv-contact {
            justify-content: center;
            margin-top: 15px;
        }

        .cv-preview.template-elegant .cv-section-title {
            text-align: center;
            border-bottom: 2px solid var(--accent);
            padding-bottom: 10px;
            border-left: none;
        }

        /* CV Components */
        .cv-photo {
            flex-shrink: 0;
        }

        .cv-photo img {
            width: 110px;
            height: 110px;
            border-radius: 50%;
            object-fit: cover;
            border: 4px solid var(--primary);
            box-shadow: 0 6px 20px rgba(37, 99, 235, 0.3);
        }

        .cv-header-info {
            flex: 1;
        }

        .cv-name {
            font-size: 28px;
            font-weight: 800;
            margin-bottom: 8px;
            color: var(--dark);
            text-transform: uppercase;
            letter-spacing: 0.5px;
        }

        .cv-title {
            font-size: 16px;
            color: var(--primary);
            margin-bottom: 15px;
            font-weight: 600;
        }

        .cv-contact {
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            gap: 10px;
            font-size: 10px;
        }

        .cv-contact-item {
            display: flex;
            align-items: center;
            gap: 8px;
            color: var(--gray-700);
        }

        .cv-contact-item i {
            width: 18px;
            color: var(--primary);
            font-size: 11px;
        }

        .cv-section {
            margin-bottom: 25px;
            page-break-inside: avoid;
        }

        .cv-section-title {
            font-size: 16px;
            font-weight: 700;
            margin-bottom: 18px;
            padding-bottom: 10px;
            border-bottom: 2px solid var(--primary);
            color: var(--dark);
            text-transform: uppercase;
            letter-spacing: 1px;
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .cv-item {
            margin-bottom: 18px;
            page-break-inside: avoid;
        }

        .cv-item-header {
            display: flex;
            justify-content: space-between;
            align-items: flex-start;
            margin-bottom: 8px;
        }

        .cv-item-title {
            font-weight: 700;
            font-size: 12px;
            color: var(--dark);
        }

        .cv-item-date {
            color: var(--gray-700);
            font-size: 10px;
            font-weight: 600;
            white-space: nowrap;
            background: var(--gray-100);
            padding: 4px 10px;
            border-radius: 6px;
        }

        .cv-item-subtitle {
            color: var(--primary);
            margin-bottom: 8px;
            font-size: 11px;
            font-weight: 600;
        }

        .cv-item-description {
            color: var(--gray-700);
            font-size: 10px;
            line-height: 1.7;
            text-align: justify;
        }

        .cv-skills-grid {
            display: grid;
            grid-template-columns: repeat(3, 1fr);
            gap: 10px;
        }

        .cv-skill-item {
            display: flex;
            align-items: center;
            gap: 8px;
            padding: 8px 12px;
            background: var(--gray-50);
            border-radius: 8px;
            border-left: 3px solid var(--primary);
            font-size: 10px;
            font-weight: 600;
            transition: all 0.3s;
        }

        .cv-skill-item i {
            color: var(--success);
            font-size: 9px;
        }

        /* Action Buttons */
        .action-buttons {
            position: sticky;
            bottom: 0;
            background: white;
            padding: 25px;
            box-shadow: 0 -10px 30px rgba(0, 0, 0, 0.1);
            display: flex;
            gap: 15px;
            justify-content: center;
            flex-wrap: wrap;
            border-top: 1px solid var(--gray-200);
        }

        /* Mobile Styles */
        .mobile-preview-btn {
            display: none;
            position: fixed;
            bottom: 25px;
            right: 25px;
            z-index: 1000;
            width: 65px;
            height: 65px;
            border-radius: 50%;
            background: linear-gradient(135deg, var(--primary) 0%, var(--secondary) 100%);
            color: white;
            border: none;
            font-size: 26px;
            box-shadow: 0 8px 25px rgba(37, 99, 235, 0.4);
            transition: all 0.3s;
        }

        .mobile-preview-btn:hover {
            transform: scale(1.1);
        }

        .preview-modal {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.95);
            z-index: 2000;
            overflow-y: auto;
            padding: 20px;
        }

        .preview-modal.active {
            display: block;
        }

        .preview-modal-content {
            max-width: 900px;
            margin: 0 auto;
            position: relative;
        }

        .close-modal {
            position: fixed;
            top: 25px;
            right: 25px;
            background: white;
            color: var(--dark);
            border: none;
            width: 45px;
            height: 45px;
            border-radius: 50%;
            font-size: 24px;
            cursor: pointer;
            z-index: 2001;
            box-shadow: 0 6px 20px rgba(0, 0, 0, 0.3);
            transition: all 0.3s;
        }

        .close-modal:hover {
            transform: rotate(90deg);
            background: var(--danger);
            color: white;
        }

        /* Loading Spinner */
        .loading {
            text-align: center;
            padding: 50px;
        }

        .spinner {
            border: 4px solid var(--gray-200);
            border-top: 4px solid var(--primary);
            border-radius: 50%;
            width: 60px;
            height: 60px;
            animation: spin 1s linear infinite;
            margin: 0 auto 25px;
        }

        @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }

        /* Responsive Design */
        @media (max-width: 1200px) {
            .cv-skills-grid {
                grid-template-columns: repeat(2, 1fr);
            }
        }

        @media (max-width: 768px) {
            .header h1 {
                font-size: 2rem;
            }

            .language-switch {
                position: relative;
                top: 0;
                right: 0;
                margin-bottom: 20px;
                text-align: center;
            }

            .content-area {
                flex-direction: column;
            }

            .preview-panel {
                display: none;
            }

            .mobile-preview-btn {
                display: flex;
                align-items: center;
                justify-content: center;
            }

            .cv-preview {
                padding: 30px;
                font-size: 10px;
            }

            .cv-name {
                font-size: 22px;
            }

            .cv-header-section {
                flex-direction: column;
                align-items: center;
                text-align: center;
            }

            .cv-contact {
                grid-template-columns: 1fr;
            }

            .cv-skills-grid {
                grid-template-columns: 1fr;
            }

            .editor-panel {
                max-height: none;
            }

            .template-selector {
                grid-template-columns: repeat(2, 1fr);
            }

            .social-links {
                flex-direction: column;
            }

            .social-links a {
                width: 100%;
            }
        }
    </style>
</head>
<body>
    <div class="container-fluid px-0">
        <div class="main-container">
            <!-- Header -->
            <div class="header">
                <div class="language-switch">
                    <button id="langBtn" onclick="toggleLanguage()">
                        <i class="fas fa-globe"></i> <span id="langBtnText">English</span>
                    </button>
                </div>
                <h1><i class="fas fa-graduation-cap"></i> <span data-translate="mainTitle">Curriculum Ya</span></h1>
                <p data-translate="subtitle">Crea tu curr√≠culum profesional en minutos con plantillas premium</p>
            </div>

            <!-- Credits Section -->
            <div class="credits-section">
                <div style="max-width: 900px; margin: 0 auto;">
                    <h3>
                        <i class="fas fa-code"></i> Creado por Hugo Ramos Espino
                    </h3>
                    <p>
                        <i class="fas fa-heart" style="color: #e74c3c;"></i> Desarrollador Full Stack apasionado por crear herramientas √∫tiles
                    </p>
                    <div class="social-links">
                        <a href="https://www.linkedin.com/in/hugo-david-r-643485123/" target="_blank" class="social-linkedin">
                            <i class="fab fa-linkedin"></i>
                            LinkedIn
                        </a>
                        <a href="https://www.instagram.com/sickgeek_?igsh=YnY1MWxhaHJmMHF6" target="_blank" class="social-instagram">
                            <i class="fab fa-instagram"></i>
                            Instagram
                        </a>
                        <a href="https://ko-fi.com/hugoramos" target="_blank" class="social-kofi">
                            <i class="fas fa-coffee"></i>
                            Ap√≥yame en Ko-fi
                        </a>
                    </div>
                </div>
            </div>

            <!-- Main Content Area -->
            <div class="content-area">
                <!-- Editor Panel -->
                <div class="editor-panel">
                    <!-- Template Selection -->
                    <div class="section-title">
                        <i class="fas fa-palette"></i>
                        <span data-translate="templateTitle">Seleccionar Plantilla</span>
                    </div>

                    <div class="template-selector">
                        <div class="template-option active" data-template="modern" onclick="changeTemplate('modern')">
                            <i class="fas fa-rocket"></i>
                            <span data-translate="temp1">Moderno</span>
                        </div>
                        <div class="template-option" data-template="executive" onclick="changeTemplate('executive')">
                            <i class="fas fa-crown"></i>
                            <span data-translate="temp2">Ejecutivo</span>
                        </div>
                        <div class="template-option" data-template="minimalist" onclick="changeTemplate('minimalist')">
                            <i class="fas fa-minus"></i>
                            <span data-translate="temp3">Minimalista</span>
                        </div>
                        <div class="template-option" data-template="creative" onclick="changeTemplate('creative')">
                            <i class="fas fa-lightbulb"></i>
                            <span data-translate="temp4">Creativo</span>
                        </div>
                        <div class="template-option" data-template="classic" onclick="changeTemplate('classic')">
                            <i class="fas fa-briefcase"></i>
                            <span data-translate="temp5">Cl√°sico</span>
                        </div>
                        <div class="template-option" data-template="elegant" onclick="changeTemplate('elegant')">
                            <i class="fas fa-gem"></i>
                            <span data-translate="temp6">Elegante</span>
                        </div>
                    </div>

                    <!-- Personal Information -->
                    <div class="section-title">
                        <i class="fas fa-user-circle"></i>
                        <span data-translate="personalTitle">Informaci√≥n Personal</span>
                    </div>

                    <div class="form-group photo-upload">
                        <label><i class="fas fa-camera"></i> <span data-translate="photoLabel">Foto de Perfil</span>:</label>
                        <input type="file" class="form-control" id="photoInput" accept="image/*" onchange="handlePhotoUpload(event)">
                        <img id="photoPreview" class="photo-preview" alt="Vista previa">
                    </div>

                    <div class="form-group">
                        <label><i class="fas fa-user"></i> <span data-translate="nameLabel">Nombre Completo</span>:</label>
                        <input type="text" class="form-control" id="fullName" data-translate-placeholder="namePlaceholder" placeholder="Ej: Juan P√©rez Garc√≠a" oninput="updatePreview()">
                    </div>

                    <div class="form-group">
                        <label><i class="fas fa-briefcase"></i> <span data-translate="jobTitleLabel">T√≠tulo Profesional</span>:</label>
                        <input type="text" class="form-control" id="jobTitle" data-translate-placeholder="jobTitlePlaceholder" placeholder="Ej: Desarrollador Full Stack" oninput="updatePreview()">
                    </div>

                    <!-- Contact Information -->
                    <div class="section-title">
                        <i class="fas fa-address-book"></i>
                        <span data-translate="contactTitle">Informaci√≥n de Contacto</span>
                    </div>

                    <div class="form-group">
                        <label><i class="fas fa-envelope"></i> <span data-translate="emailLabel">Correo Electr√≥nico</span>:</label>
                        <div class="input-group">
                            <span class="input-group-text"><i class="fas fa-envelope"></i></span>
                            <input type="email" class="form-control" id="email" data-translate-placeholder="emailPlaceholder" placeholder="ejemplo@correo.com" oninput="updatePreview()">
                        </div>
                    </div>

                    <div class="form-group">
                        <label><i class="fas fa-phone"></i> <span data-translate="phoneLabel">Tel√©fono</span>:</label>
                        <div class="input-group">
                            <span class="input-group-text"><i class="fas fa-phone"></i></span>
                            <input type="tel" class="form-control" id="phone" data-translate-placeholder="phonePlaceholder" placeholder="+52 123 456 7890" oninput="updatePreview()">
                        </div>
                    </div>

                    <div class="form-group">
                        <label><i class="fab fa-linkedin"></i> <span data-translate="linkedinLabel">LinkedIn</span>:</label>
                        <div class="input-group">
                            <span class="input-group-text"><i class="fab fa-linkedin"></i></span>
                            <input type="url" class="form-control" id="linkedin" data-translate-placeholder="linkedinPlaceholder" placeholder="linkedin.com/in/tu-perfil" oninput="updatePreview()">
                        </div>
                    </div>

                    <div class="form-group">
                        <label><i class="fas fa-map-marker-alt"></i> <span data-translate="locationLabel">Ubicaci√≥n</span>:</label>
                        <div class="input-group">
                            <span class="input-group-text"><i class="fas fa-map-marker-alt"></i></span>
                            <input type="text" class="form-control" id="location" data-translate-placeholder="locationPlaceholder" placeholder="Ciudad, Pa√≠s" oninput="updatePreview()">
                        </div>
                    </div>

                    <!-- Work Experience -->
                    <div class="section-title">
                        <i class="fas fa-briefcase"></i>
                        <span data-translate="experienceTitle">Experiencia Laboral</span>
                    </div>

                    <div id="experienceList"></div>

                    <div class="form-group">
                        <label><i class="fas fa-user-tie"></i> <span data-translate="positionLabel">Puesto</span>:</label>
                        <input type="text" class="form-control" id="expPosition" data-translate-placeholder="positionPlaceholder" placeholder="Ej: Gerente de Proyectos">
                    </div>

                    <div class="form-group">
                        <label><i class="fas fa-building"></i> <span data-translate="companyLabel">Empresa</span>:</label>
                        <input type="text" class="form-control" id="expCompany" data-translate-placeholder="companyPlaceholder" placeholder="Ej: TechCorp S.A.">
                    </div>

                    <div class="row">
                        <div class="col-md-6">
                            <div class="form-group">
                                <label><i class="fas fa-calendar-alt"></i> <span data-translate="startYearLabel">A√±o Inicio</span>:</label>
                                <input type="text" class="form-control" id="expStartYear" placeholder="2020">
                            </div>
                        </div>
                        <div class="col-md-6">
                            <div class="form-group">
                                <label><i class="fas fa-calendar-check"></i> <span data-translate="endYearLabel">A√±o Fin</span>:</label>
                                <input type="text" class="form-control" id="expEndYear" data-translate-placeholder="endYearPlaceholder" placeholder="2023 o Actual">
                            </div>
                        </div>
                    </div>

                    <div class="form-group">
                        <label><i class="fas fa-align-left"></i> <span data-translate="descriptionLabel">Descripci√≥n</span>:</label>
                        <textarea class="form-control" id="expDescription" rows="4" data-translate-placeholder="descriptionPlaceholder" placeholder="Describe tus responsabilidades, logros y resultados obtenidos..."></textarea>
                    </div>

                    <button class="btn btn-primary w-100 mb-4" onclick="addExperience()">
                        <i class="fas fa-plus-circle"></i> <span data-translate="addExpBtn">Agregar Experiencia</span>
                    </button>

                    <!-- Education -->
                    <div class="section-title">
                        <i class="fas fa-graduation-cap"></i>
                        <span data-translate="educationTitle">Educaci√≥n</span>
                    </div>

                    <div id="educationList"></div>

                    <div class="form-group">
                        <label><i class="fas fa-certificate"></i> <span data-translate="degreeLabel">T√≠tulo/Grado</span>:</label>
                        <input type="text" class="form-control" id="eduDegree" data-translate-placeholder="degreePlaceholder" placeholder="Ej: Ingenier√≠a en Sistemas">
                    </div>

                    <div class="form-group">
                        <label><i class="fas fa-university"></i> <span data-translate="institutionLabel">Instituci√≥n</span>:</label>
                        <input type="text" class="form-control" id="eduInstitution" data-translate-placeholder="institutionPlaceholder" placeholder="Ej: Universidad Nacional">
                    </div>

                    <div class="row">
                        <div class="col-md-6">
                            <div class="form-group">
                                <label><i class="fas fa-calendar-alt"></i> <span data-translate="eduStartLabel">A√±o Inicio</span>:</label>
                                <input type="text" class="form-control" id="eduStartYear" placeholder="2015">
                            </div>
                        </div>
                        <div class="col-md-6">
                            <div class="form-group">
                                <label><i class="fas fa-calendar-check"></i> <span data-translate="eduEndLabel">A√±o Fin</span>:</label>
                                <input type="text" class="form-control" id="eduEndYear" placeholder="2019">
                            </div>
                        </div>
                    </div>

                    <button class="btn btn-primary w-100 mb-4" onclick="addEducation()">
                        <i class="fas fa-plus-circle"></i> <span data-translate="addEduBtn">Agregar Educaci√≥n</span>
                    </button>

                    <!-- Skills -->
                    <div class="section-title">
                        <i class="fas fa-cogs"></i>
                        <span data-translate="skillsTitle">Habilidades</span>
                    </div>

                    <div id="skillsList"></div>

                    <div class="form-group">
                        <label><i class="fas fa-star"></i> <span data-translate="skillLabel">Habilidad</span>:</label>
                        <input type="text" class="form-control" id="skillInput" data-translate-placeholder="skillPlaceholder" placeholder="Ej: JavaScript, Python, Liderazgo...">
                    </div>

                    <button class="btn btn-primary w-100 mb-4" onclick="addSkill()">
                        <i class="fas fa-plus-circle"></i> <span data-translate="addSkillBtn">Agregar Habilidad</span>
                    </button>
                </div>

                <!-- Preview Panel -->
                <div class="preview-panel">
                    <div class="section-title">
                        <i class="fas fa-eye"></i>
                        <span data-translate="previewTitle">Vista Previa</span>
                    </div>
                    <div id="cvPreview" class="cv-preview template-modern"></div>
                </div>
            </div>

            <!-- Action Buttons -->
            <div class="action-buttons">
                <button class="btn btn-success" onclick="saveData()">
                    <i class="fas fa-save"></i> <span data-translate="saveBtn">Guardar</span>
                </button>
                <button class="btn btn-warning" onclick="loadData()">
                    <i class="fas fa-folder-open"></i> <span data-translate="loadBtn">Cargar</span>
                </button>
                <button class="btn btn-primary" onclick="exportPDF()">
                    <i class="fas fa-file-pdf"></i> <span data-translate="exportBtn">Exportar PDF</span>
                </button>
                <button class="btn btn-danger" onclick="clearAll()">
                    <i class="fas fa-trash-alt"></i> <span data-translate="clearBtn">Limpiar</span>
                </button>
            </div>
        </div>
    </div>

    <!-- Mobile Preview Button -->
    <button class="mobile-preview-btn" onclick="openPreviewModal()">
        <i class="fas fa-eye"></i>
    </button>

    <!-- Preview Modal -->
    <div class="preview-modal" id="previewModal">
        <button class="close-modal" onclick="closePreviewModal()">
            <i class="fas fa-times"></i>
        </button>
        <div class="preview-modal-content">
            <div id="cvPreviewModal" class="cv-preview template-modern"></div>
        </div>
    </div>

    <!-- Scripts -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.7.1/jquery.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/bootstrap/5.3.2/js/bootstrap.bundle.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/limonte-sweetalert2/11.7.32/sweetalert2.all.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/html2canvas/1.4.1/html2canvas.min.js"></script>

    <script>
        let currentLang = 'es';
        let currentTemplate = 'modern';
        let experiences = [];
        let education = [];
        let skills = [];
        let photoData = null;

        const translations = {
            es: {
                mainTitle: 'CV Builder Pro',
                subtitle: 'Crea tu curr√≠culum profesional en minutos con plantillas premium',
                templateTitle: 'Seleccionar Plantilla',
                temp1: 'Moderno',
                temp2: 'Ejecutivo',
                temp3: 'Minimalista',
                temp4: 'Creativo',
                temp5: 'Cl√°sico',
                temp6: 'Elegante',
                personalTitle: 'Informaci√≥n Personal',
                photoLabel: 'Foto de Perfil',
                nameLabel: 'Nombre Completo',
                namePlaceholder: 'Ej: Juan P√©rez Garc√≠a',
                jobTitleLabel: 'T√≠tulo Profesional',
                jobTitlePlaceholder: 'Ej: Desarrollador Full Stack',
                contactTitle: 'Informaci√≥n de Contacto',
                emailLabel: 'Correo Electr√≥nico',
                emailPlaceholder: 'ejemplo@correo.com',
                phoneLabel: 'Tel√©fono',
                phonePlaceholder: '+52 123 456 7890',
                linkedinLabel: 'LinkedIn',
                linkedinPlaceholder: 'linkedin.com/in/tu-perfil',
                locationLabel: 'Ubicaci√≥n',
                locationPlaceholder: 'Ciudad, Pa√≠s',
                experienceTitle: 'Experiencia Laboral',
                positionLabel: 'Puesto',
                positionPlaceholder: 'Ej: Gerente de Proyectos',
                companyLabel: 'Empresa',
                companyPlaceholder: 'Ej: TechCorp S.A.',
                startYearLabel: 'A√±o Inicio',
                endYearLabel: 'A√±o Fin',
                endYearPlaceholder: '2023 o Actual',
                descriptionLabel: 'Descripci√≥n',
                descriptionPlaceholder: 'Describe tus responsabilidades, logros y resultados obtenidos...',
                addExpBtn: 'Agregar Experiencia',
                educationTitle: 'Educaci√≥n',
                degreeLabel: 'T√≠tulo/Grado',
                degreePlaceholder: 'Ej: Ingenier√≠a en Sistemas',
                institutionLabel: 'Instituci√≥n',
                institutionPlaceholder: 'Ej: Universidad Nacional',
                eduStartLabel: 'A√±o Inicio',
                eduEndLabel: 'A√±o Fin',
                addEduBtn: 'Agregar Educaci√≥n',
                skillsTitle: 'Habilidades',
                skillLabel: 'Habilidad',
                skillPlaceholder: 'Ej: JavaScript, Python, Liderazgo...',
                addSkillBtn: 'Agregar Habilidad',
                previewTitle: 'Vista Previa',
                saveBtn: 'Guardar',
                loadBtn: 'Cargar',
                exportBtn: 'Exportar PDF',
                clearBtn: 'Limpiar',
                expTitle: 'EXPERIENCIA LABORAL',
                eduTitle: 'EDUCACI√ìN',
                skillsPreview: 'HABILIDADES',
                langBtnText: 'English',
                defaultName: 'Tu Nombre',
                defaultTitle: 'T√≠tulo Profesional'
            },
            en: {
                mainTitle: 'CV Builder Pro',
                subtitle: 'Create your professional resume in minutes with premium templates',
                templateTitle: 'Select Template',
                temp1: 'Modern',
                temp2: 'Executive',
                temp3: 'Minimalist',
                temp4: 'Creative',
                temp5: 'Classic',
                temp6: 'Elegant',
                personalTitle: 'Personal Information',
                photoLabel: 'Profile Photo',
                nameLabel: 'Full Name',
                namePlaceholder: 'Ex: John Doe',
                jobTitleLabel: 'Job Title',
                jobTitlePlaceholder: 'Ex: Full Stack Developer',
                contactTitle: 'Contact Information',
                emailLabel: 'Email',
                emailPlaceholder: 'example@email.com',
                phoneLabel: 'Phone',
                phonePlaceholder: '+1 123 456 7890',
                linkedinLabel: 'LinkedIn',
                linkedinPlaceholder: 'linkedin.com/in/your-profile',
                locationLabel: 'Location',
                locationPlaceholder: 'City, Country',
                experienceTitle: 'Work Experience',
                positionLabel: 'Position',
                positionPlaceholder: 'Ex: Project Manager',
                companyLabel: 'Company',
                companyPlaceholder: 'Ex: TechCorp Inc.',
                startYearLabel: 'Start Year',
                endYearLabel: 'End Year',
                endYearPlaceholder: '2023 or Current',
                descriptionLabel: 'Description',
                descriptionPlaceholder: 'Describe your responsibilities, achievements and results...',
                addExpBtn: 'Add Experience',
                educationTitle: 'Education',
                degreeLabel: 'Degree',
                degreePlaceholder: 'Ex: Computer Science',
                institutionLabel: 'Institution',
                institutionPlaceholder: 'Ex: State University',
                eduStartLabel: 'Start Year',
                eduEndLabel: 'End Year',
                addEduBtn: 'Add Education',
                skillsTitle: 'Skills',
                skillLabel: 'Skill',
                skillPlaceholder: 'Ex: JavaScript, Python, Leadership...',
                addSkillBtn: 'Add Skill',
                previewTitle: 'Preview',
                saveBtn: 'Save',
                loadBtn: 'Load',
                exportBtn: 'Export PDF',
                clearBtn: 'Clear',
                expTitle: 'WORK EXPERIENCE',
                eduTitle: 'EDUCATION',
                skillsPreview: 'SKILLS',
                langBtnText: 'Espa√±ol',
                defaultName: 'Your Name',
                defaultTitle: 'Professional Title'
            }
        };

        function toggleLanguage() {
            currentLang = currentLang === 'es' ? 'en' : 'es';
            updateLanguage();
        }

        function updateLanguage() {
            const t = translations[currentLang];
            $('#langBtnText').text(t.langBtnText);
            
            $('[data-translate]').each(function() {
                const key = $(this).data('translate');
                if (t[key]) {
                    $(this).text(t[key]);
                }
            });
        
            $('[data-translate-placeholder]').each(function() {
                const key = $(this).data('translate-placeholder');
                if (t[key]) {
                    $(this).attr('placeholder', t[key]);
                }
            });
        
            updatePreview();
        }

        function handlePhotoUpload(event) {
            const file = event.target.files[0];
            if (file) {
                const reader = new FileReader();
                reader.onload = function (e) {
                    photoData = e.target.result;
                    $('#photoPreview').addClass('active').attr('src', photoData);
                    updatePreview();
                };
                reader.readAsDataURL(file);
            }
        }

        function changeTemplate(template) {
            currentTemplate = template;
            $('.template-option').removeClass('active');
            $(`.template-option[data-template="${template}"]`).addClass('active');
            $('#cvPreview, #cvPreviewModal').removeClass('template-modern template-executive template-minimalist template-creative template-classic template-elegant');
            $('#cvPreview, #cvPreviewModal').addClass(`template-${template}`);
            updatePreview();
        }

        function addExperience() {
            const exp = {
                position: $('#expPosition').val(),
                company: $('#expCompany').val(),
                startYear: $('#expStartYear').val(),
                endYear: $('#expEndYear').val(),
                description: $('#expDescription').val()
            };

            if (exp.position && exp.company) {
                experiences.push(exp);
                $('#expPosition, #expCompany, #expStartYear, #expEndYear, #expDescription').val('');
                renderExperienceList();
                updatePreview();
                
                Swal.fire({
                    icon: 'success',
                    title: currentLang === 'es' ? '¬°Agregado!' : 'Added!',
                    text: currentLang === 'es' ? 'Experiencia agregada correctamente' : 'Experience added successfully',
                    timer: 1500,
                    showConfirmButton: false
                });
            } else {
                Swal.fire({
                    icon: 'warning',
                    title: currentLang === 'es' ? 'Atenci√≥n' : 'Warning',
                    text: currentLang === 'es' ? 'Por favor completa al menos el puesto y la empresa' : 'Please fill at least position and company'
                });
            }
        }

        function renderExperienceList() {
            let html = '';
            experiences.forEach((exp, index) => {
                html += `
                    <div class="item-list">
                        <div class="d-flex justify-content-between align-items-start">
                            <div>
                                <strong><i class="fas fa-briefcase me-2"></i>${exp.position}</strong>
                                <div class="text-muted small mt-1">
                                    <i class="fas fa-building me-1"></i>${exp.company} 
                                    ${exp.startYear ? `<span class="ms-2"><i class="fas fa-calendar me-1"></i>${exp.startYear} - ${exp.endYear}</span>` : ''}
                                </div>
                            </div>
                            <button class="btn btn-danger btn-sm" onclick="removeExperience(${index})">
                                <i class="fas fa-trash"></i>
                            </button>
                        </div>
                    </div>
                `;
            });
            $('#experienceList').html(html);
        }

        function removeExperience(index) {
            Swal.fire({
                title: currentLang === 'es' ? '¬øEliminar?' : 'Delete?',
                text: currentLang === 'es' ? '¬øDeseas eliminar esta experiencia?' : 'Do you want to delete this experience?',
                icon: 'warning',
                showCancelButton: true,
                confirmButtonText: currentLang === 'es' ? 'S√≠, eliminar' : 'Yes, delete',
                cancelButtonText: currentLang === 'es' ? 'Cancelar' : 'Cancel'
            }).then((result) => {
                if (result.isConfirmed) {
                    experiences.splice(index, 1);
                    renderExperienceList();
                    updatePreview();
                }
            });
        }

        function addEducation() {
            const edu = {
                degree: $('#eduDegree').val(),
                institution: $('#eduInstitution').val(),
                startYear: $('#eduStartYear').val(),
                endYear: $('#eduEndYear').val()
            };

            if (edu.degree && edu.institution) {
                education.push(edu);
                $('#eduDegree, #eduInstitution, #eduStartYear, #eduEndYear').val('');
                renderEducationList();
                updatePreview();
                
                Swal.fire({
                    icon: 'success',
                    title: currentLang === 'es' ? '¬°Agregado!' : 'Added!',
                    text: currentLang === 'es' ? 'Educaci√≥n agregada correctamente' : 'Education added successfully',
                    timer: 1500,
                    showConfirmButton: false
                });
            } else {
                Swal.fire({
                    icon: 'warning',
                    title: currentLang === 'es' ? 'Atenci√≥n' : 'Warning',
                    text: currentLang === 'es' ? 'Por favor completa al menos el t√≠tulo y la instituci√≥n' : 'Please fill at least degree and institution'
                });
            }
        }

        function renderEducationList() {
            let html = '';
            education.forEach((edu, index) => {
                html += `
                    <div class="item-list">
                        <div class="d-flex justify-content-between align-items-start">
                            <div>
                                <strong><i class="fas fa-graduation-cap me-2"></i>${edu.degree}</strong>
                                <div class="text-muted small mt-1">
                                    <i class="fas fa-university me-1"></i>${edu.institution}
                                    ${edu.startYear ? `<span class="ms-2"><i class="fas fa-calendar me-1"></i>${edu.startYear} - ${edu.endYear}</span>` : ''}
                                </div>
                            </div>
                            <button class="btn btn-danger btn-sm" onclick="removeEducation(${index})">
                                <i class="fas fa-trash"></i>
                            </button>
                        </div>
                    </div>
                `;
            });
            $('#educationList').html(html);
        }

        function removeEducation(index) {
            Swal.fire({
                title: currentLang === 'es' ? '¬øEliminar?' : 'Delete?',
                text: currentLang === 'es' ? '¬øDeseas eliminar esta educaci√≥n?' : 'Do you want to delete this education?',
                icon: 'warning',
                showCancelButton: true,
                confirmButtonText: currentLang === 'es' ? 'S√≠, eliminar' : 'Yes, delete',
                cancelButtonText: currentLang === 'es' ? 'Cancelar' : 'Cancel'
            }).then((result) => {
                if (result.isConfirmed) {
                    education.splice(index, 1);
                    renderEducationList();
                    updatePreview();
                }
            });
        }

        function addSkill() {
            const skill = $('#skillInput').val().trim();
            if (skill) {
                skills.push(skill);
                $('#skillInput').val('');
                renderSkillsList();
                updatePreview();
                
                Swal.fire({
                    icon: 'success',
                    title: currentLang === 'es' ? '¬°Agregada!' : 'Added!',
                    text: currentLang === 'es' ? 'Habilidad agregada correctamente' : 'Skill added successfully',
                    timer: 1500,
                    showConfirmButton: false
                });
            } else {
                Swal.fire({
                    icon: 'warning',
                    title: currentLang === 'es' ? 'Atenci√≥n' : 'Warning',
                    text: currentLang === 'es' ? 'Por favor ingresa una habilidad' : 'Please enter a skill'
                });
            }
        }

        function renderSkillsList() {
            let html = '';
            skills.forEach((skill, index) => {
                html += `
                    <div class="item-list">
                        <div class="d-flex justify-content-between align-items-center">
                            <span><i class="fas fa-check-circle me-2 text-success"></i>${skill}</span>
                            <button class="btn btn-danger btn-sm" onclick="removeSkill(${index})">
                                <i class="fas fa-trash"></i>
                            </button>
                        </div>
                    </div>
                `;
            });
            $('#skillsList').html(html);
        }

        function removeSkill(index) {
            Swal.fire({
                title: currentLang === 'es' ? '¬øEliminar?' : 'Delete?',
                text: currentLang === 'es' ? '¬øDeseas eliminar esta habilidad?' : 'Do you want to delete this skill?',
                icon: 'warning',
                showCancelButton: true,
                confirmButtonText: currentLang === 'es' ? 'S√≠, eliminar' : 'Yes, delete',
                cancelButtonText: currentLang === 'es' ? 'Cancelar' : 'Cancel'
            }).then((result) => {
                if (result.isConfirmed) {
                    skills.splice(index, 1);
                    renderSkillsList();
                    updatePreview();
                }
            });
        }

        function updatePreview() {
            const t = translations[currentLang];
            const name = $('#fullName').val() || t.defaultName;
            const jobTitle = $('#jobTitle').val() || t.defaultTitle;
            const email = $('#email').val();
            const phone = $('#phone').val();
            const linkedin = $('#linkedin').val();
            const location = $('#location').val();

            let photoHtml = '';
            if (photoData) {
                photoHtml = `
                    <div class="cv-photo">
                        <img src="${photoData}" alt="Foto de perfil">
                    </div>
                `;
            }

            let contactHtml = '';
            if (email) contactHtml += `<div class="cv-contact-item"><i class="fas fa-envelope"></i> ${email}</div>`;
            if (phone) contactHtml += `<div class="cv-contact-item"><i class="fas fa-phone"></i> ${phone}</div>`;
            if (linkedin) contactHtml += `<div class="cv-contact-item"><i class="fab fa-linkedin"></i> ${linkedin}</div>`;
            if (location) contactHtml += `<div class="cv-contact-item"><i class="fas fa-map-marker-alt"></i> ${location}</div>`;

            let experienceHtml = '';
            if (experiences.length > 0) {
                experienceHtml = `<div class="cv-section">
                    <div class="cv-section-title"><i class="fas fa-briefcase"></i> ${t.expTitle}</div>`;
                experiences.forEach(exp => {
                    experienceHtml += `
                        <div class="cv-item">
                            <div class="cv-item-header">
                                <div class="cv-item-title">${exp.position}</div>
                                <div class="cv-item-date">${exp.startYear} - ${exp.endYear}</div>
                            </div>
                            <div class="cv-item-subtitle"><i class="fas fa-building"></i> ${exp.company}</div>
                            ${exp.description ? `<div class="cv-item-description">${exp.description}</div>` : ''}
                        </div>
                    `;
                });
                experienceHtml += '</div>';
            }

            let educationHtml = '';
            if (education.length > 0) {
                educationHtml = `<div class="cv-section">
                    <div class="cv-section-title"><i class="fas fa-graduation-cap"></i> ${t.eduTitle}</div>`;
                education.forEach(edu => {
                    educationHtml += `
                        <div class="cv-item">
                            <div class="cv-item-header">
                                <div class="cv-item-title">${edu.degree}</div>
                                <div class="cv-item-date">${edu.startYear} - ${edu.endYear}</div>
                            </div>
                            <div class="cv-item-subtitle"><i class="fas fa-university"></i> ${edu.institution}</div>
                        </div>
                    `;
                });
                educationHtml += '</div>';
            }

            let skillsHtml = '';
            if (skills.length > 0) {
                skillsHtml = `<div class="cv-section">
                    <div class="cv-section-title"><i class="fas fa-cogs"></i> ${t.skillsPreview}</div>
                    <div class="cv-skills-grid">`;
                skills.forEach(skill => {
                    skillsHtml += `<div class="cv-skill-item"><i class="fas fa-check-circle"></i> ${skill}</div>`;
                });
                skillsHtml += '</div></div>';
            }

            const previewHtml = `
                <div class="cv-header-section">
                    ${photoHtml}
                    <div class="cv-header-info">
                        <div class="cv-name">${name}</div>
                        <div class="cv-title">${jobTitle}</div>
                        <div class="cv-contact">${contactHtml}</div>
                    </div>
                </div>
                ${experienceHtml}
                ${educationHtml}
                ${skillsHtml}
            `;

            $('#cvPreview').html(previewHtml);
            $('#cvPreviewModal').html(previewHtml);
        }

        function saveData() {
            const data = {
                personal: {
                    fullName: $('#fullName').val(),
                    jobTitle: $('#jobTitle').val(),
                    email: $('#email').val(),
                    phone: $('#phone').val(),
                    linkedin: $('#linkedin').val(),
                    location: $('#location').val(),
                    photo: photoData
                },
                style: {
                    template: currentTemplate
                },
                experiences: experiences,
                education: education,
                skills: skills,
                language: currentLang
            };
        
            window.cvData = data;
            
            Swal.fire({
                icon: 'success',
                title: currentLang === 'es' ? '¬°Guardado!' : 'Saved!',
                text: currentLang === 'es' ? 'Datos guardados exitosamente' : 'Data saved successfully',
                timer: 2000,
                showConfirmButton: false
            });
        }

        function loadData() {
            const data = window.cvData;
            
            if (!data) {
                Swal.fire({
                    icon: 'warning',
                    title: currentLang === 'es' ? 'Atenci√≥n' : 'Warning',
                    text: currentLang === 'es' ? 'No hay datos guardados' : 'No saved data found'
                });
                return;
            }
        
            $('#fullName').val(data.personal.fullName || '');
            $('#jobTitle').val(data.personal.jobTitle || '');
            $('#email').val(data.personal.email || '');
            $('#phone').val(data.personal.phone || '');
            $('#linkedin').val(data.personal.linkedin || '');
            $('#location').val(data.personal.location || '');
        
            if (data.personal.photo) {
                photoData = data.personal.photo;
                $('#photoPreview').addClass('active').attr('src', photoData);
            }
        
            currentTemplate = data.style.template || 'modern';
            changeTemplate(currentTemplate);
        
            experiences = data.experiences || [];
            education = data.education || [];
            skills = data.skills || [];
        
            currentLang = data.language || 'es';
            updateLanguage();
        
            renderExperienceList();
            renderEducationList();
            renderSkillsList();
            updatePreview();
        
            Swal.fire({
                icon: 'success',
                title: currentLang === 'es' ? '¬°Cargado!' : 'Loaded!',
                text: currentLang === 'es' ? 'Datos cargados exitosamente' : 'Data loaded successfully',
                timer: 2000,
                showConfirmButton: false
            });
        }

        function clearAll() {
            Swal.fire({
                title: currentLang === 'es' ? '¬øEst√°s seguro?' : 'Are you sure?',
                text: currentLang === 'es' ? '¬øDeseas limpiar todos los datos?' : 'Do you want to clear all data?',
                icon: 'warning',
                showCancelButton: true,
                confirmButtonColor: '#ef4444',
                cancelButtonColor: '#6b7280',
                confirmButtonText: currentLang === 'es' ? 'S√≠, limpiar' : 'Yes, clear',
                cancelButtonText: currentLang === 'es' ? 'Cancelar' : 'Cancel'
            }).then((result) => {
                if (result.isConfirmed) {
                    $('#fullName, #jobTitle, #email, #phone, #linkedin, #location').val('');
                    $('#photoInput').val('');
                    $('#photoPreview').removeClass('active').attr('src', '');
                    photoData = null;

                    experiences = [];
                    education = [];
                    skills = [];

                    renderExperienceList();
                    renderEducationList();
                    renderSkillsList();
                    updatePreview();

                    window.cvData = null;

                    Swal.fire({
                        icon: 'success',
                        title: currentLang === 'es' ? '¬°Limpiado!' : 'Cleared!',
                        text: currentLang === 'es' ? 'Todos los datos han sido eliminados' : 'All data has been cleared',
                        timer: 2000,
                        showConfirmButton: false
                    });
                }
            });
        }

        function openPreviewModal() {
            $('#previewModal').addClass('active');
            updatePreview();
        }

        function closePreviewModal() {
            $('#previewModal').removeClass('active');
        }

        async function exportPDF() {
            const name = $('#fullName').val() || 'curriculum';
            const filename = name.replace(/\s+/g, '_') + '_CV.pdf';
            
            const isMobile = window.innerWidth <= 768;
            const element = isMobile ? document.getElementById('cvPreviewModal') : document.getElementById('cvPreview');
            
            if (isMobile && !$('#previewModal').hasClass('active')) {
                openPreviewModal();
                await new Promise(resolve => setTimeout(resolve, 500));
            }
            
            const buttons = document.querySelectorAll('.action-buttons');
            buttons.forEach(btn => btn.style.display = 'none');
            
            const loadingMsg = document.createElement('div');
            loadingMsg.className = 'loading';
            loadingMsg.innerHTML = `
                <div class="spinner"></div>
                <p style="font-size: 1.1rem; color: var(--primary); font-weight: 600;">${currentLang === 'es' ? 'Generando PDF...' : 'Generating PDF...'}</p>
            `;
            
            const container = isMobile ? document.querySelector('.preview-modal-content') : document.querySelector('.preview-panel');
            if (container) {
                container.appendChild(loadingMsg);
            }
        
            try {
                const canvas = await html2canvas(element, {
                    scale: 3,
                    useCORS: true,
                    logging: false,
                    backgroundColor: '#ffffff',
                    width: element.scrollWidth,
                    height: element.scrollHeight
                });
        
                const { jsPDF } = window.jspdf;
                const pdf = new jsPDF('p', 'mm', 'a4');
                const pageWidth = 210;
                const pageHeight = 297;
                const margin = 10;
                const contentWidth = pageWidth - (2 * margin);
                
                const imgWidth = contentWidth;
                const imgHeight = (canvas.height * imgWidth) / canvas.width;
                const imgData = canvas.toDataURL('image/jpeg', 1.0);
                
                if (imgHeight > pageHeight - (2 * margin)) {
                    const scale = (pageHeight - (2 * margin)) / imgHeight;
                    const scaledWidth = imgWidth * scale;
                    const scaledHeight = imgHeight * scale;
                    const xOffset = (pageWidth - scaledWidth) / 2;
                    pdf.addImage(imgData, 'JPEG', xOffset, margin, scaledWidth, scaledHeight);
                } else {
                    pdf.addImage(imgData, 'JPEG', margin, margin, imgWidth, imgHeight);
                }
        
                pdf.save(filename);
        
                loadingMsg.remove();
                buttons.forEach(btn => btn.style.display = 'flex');
                
                if (isMobile) {
                    closePreviewModal();
                }
        
                Swal.fire({
                    icon: 'success',
                    title: currentLang === 'es' ? '¬°√âxito!' : 'Success!',
                    text: currentLang === 'es' ? 'PDF generado exitosamente' : 'PDF generated successfully',
                    timer: 2000,
                    showConfirmButton: false
                });
        
            } catch (error) {
                console.error('Error al generar PDF:', error);
                loadingMsg.remove();
                buttons.forEach(btn => btn.style.display = 'flex');
                
                Swal.fire({
                    icon: 'error',
                    title: currentLang === 'es' ? 'Error' : 'Error',
                    text: currentLang === 'es' ? 'Error al generar PDF. Por favor intenta de nuevo.' : 'Error generating PDF. Please try again.'
                });
            }
        }

        $(document).ready(function () {
            updatePreview();

            $('#skillInput').keypress(function (e) {
                if (e.which === 13) {
                    e.preventDefault();
                    addSkill();
                }
            });

            $('#expDescription').keypress(function (e) {
                if (e.which === 13 && e.ctrlKey) {
                    e.preventDefault();
                    addExperience();
                }
            });

            $('#expPosition, #expCompany, #expStartYear, #expEndYear').keypress(function (e) {
                if (e.which === 13) {
                    e.preventDefault();
                    const next = $(this).closest('.form-group').next().find('.form-control');
                    if (next.length) {
                        next.focus();
                    }
                }
            });

            $('#eduDegree, #eduInstitution, #eduStartYear, #eduEndYear').keypress(function (e) {
                if (e.which === 13) {
                    e.preventDefault();
                    const next = $(this).closest('.form-group').next().find('.form-control');
                    if (next.length) {
                        next.focus();
                    }
                }
            });

            const style = document.createElement('style');
            style.textContent = `
                @media print {
                    body * {
                        visibility: hidden;
                    }
                    .cv-preview, .cv-preview * {
                        visibility: visible;
                    }
                    .cv-preview {
                        position: absolute;
                        left: 0;
                        top: 0;
                    }
                }
            `;
            document.head.appendChild(style);
        });
    </script>
</body>
</html>
